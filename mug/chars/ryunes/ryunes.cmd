;--------------------------------------------------------------------------
;Keys (Change to keyboard config or joy config)
[Command]
name = "x"
command = x
time = 1

[Command]
name = "y"
command = y
time = 1

[Command]
name = "a"
command = a
time = 1

[Command]
name = "b"
command = b
time = 1

[Command]
name = "hold_x"
command = /x

[Command]
name = "hold_y"
command = /y

[Command]
name = "hold_y"
command = /y

[Command]
name = "fwd_x"
command = /F, x

[Command]
name = "fwd_x"
command = /F, ~x

;-| Super Motions |--------------------------------------------------------
[Command]
name = "Shinkuu Shoryuken"
command = ~D, DF, F, D, DF, F, b+y
time = 60
buffer.time = 5

[Command]
name = "Shinryuuken"
command = ~D, DF, F, D, DF, F, a+x
time = 60
buffer.time = 5

[Command]
name = "Shoryu Reppa"
command = ~D, DF, F, D, DF, F, a
time = 30
buffer.time = 5

[Command]
name = "Shoryu Reppa"
command = ~D, F, D, F, a
time = 30
buffer.time = 5

[Command]
name = "Shoryu Reppa"
command = ~D, DF, F, D, DF, F, b
time = 30
buffer.time = 5

[Command]
name = "Shoryu Reppa"
command = ~D, F, D, F, b
time = 30
buffer.time = 5

[Command]
name = "Shinkuu Hadouken"
command = ~D, DF, F, D, DF, F, x
time = 30
buffer.time = 5

[Command]
name = "Shinkuu Hadouken"
command = ~D, F, D, F, x
time = 30
buffer.time = 5

[Command]
name = "Shinkuu Hadouken"
command = ~D, DF, F, D, DF, F, y
time = 30
buffer.time = 5

[Command]
name = "Shinkuu Hadouken"
command = ~D, F, D, F, y
time = 30
buffer.time = 5

[Command]
name = "Shinkuu Tsumaki"
command = ~D, DB, B, D, DB, DB, a
time = 30
buffer.time = 5

[Command]
name = "Shinkuu Tsumaki"
command = ~D, B, D, B, a
time = 30
buffer.time = 5

[Command]
name = "Shinkuu Tsumaki"
command = ~D, DB, B, D, DB, B, b
time = 30
buffer.time = 5

[Command]
name = "Shinkuu Tsumaki"
command = ~D, B, D, B, b
time = 30
buffer.time = 5

;-| Special Motions |------------------------------------------------------
[Command]
name = "Weak Hadouken"
command = ~D, DF, F, x
time = 20
buffer.time = 3

[Command]
name = "Weak Hadouken"
command = ~D, DF, F, ~x
time = 20
buffer.time = 3

[Command]
name = "Strong Hadouken"
command = ~D, DF, F, y
time = 20
buffer.time = 3

[Command]
name = "Strong Hadouken"
command = ~D, DF, F, ~y
time = 20
buffer.time = 3

[Command]
name = "Weak AirHadouken"
command = ~D, DB, B, x
time = 20
buffer.time = 3

[Command]
name = "Weak AirHadouken"
command = ~D, DB, B, ~x
time = 20
buffer.time = 3

[Command]
name = "Strong AirHadouken"
command = ~D, DB, B, y
time = 20
buffer.time = 3

[Command]
name = "Strong AirHadouken"
command = ~D, DB, B, ~y
time = 20
buffer.time = 3


[Command]
name = "Ooki Hadouken"
command = ~D, DF, F, z
time = 20
buffer.time = 3

[Command]
name = "Ooki Hadouken"
command = ~D, DF, F, ~z
time = 20
buffer.time = 3

[Command]
name = "Fake Hadouken"
command = ~D, DF, F, s
time = 20
buffer.time = 3

[Command]
name = "Fake Hadouken"
command = ~D, DF, F, ~s
time = 20
buffer.time = 3


[Command]
name = "Weak Shoryuken"
command = ~F, D, DF, x
time = 20
buffer.time = 3

[Command]
name = "Weak Shoryuken"
command = ~F, D, DF, ~x
time = 20
buffer.time = 3

[Command]
name = "Strong Shoryuken"
command = ~F, D, DF, y
time = 20
buffer.time = 3

[Command]
name = "Strong Shoryuken"
command = ~F, D, DF, ~y
time = 20
buffer.time = 3

[Command]
name = "Kaze no Ken"
command = ~F, D, DF, ~z
time = 20
buffer.time = 3

[Command]
name = "Kaze no Ken"
command = ~F, D, DF, z
time = 20
buffer.time = 3

[Command]
name = "Weak Tsumaki"
command = ~D, DB, B, a
time = 20
buffer.time = 3

[Command]
name = "Weak Tsumaki"
command = ~D, DB, B, ~a
time = 20
buffer.time = 3

[Command]
name = "Strong Tsumaki"
command = ~D, DB, B, b
time = 20
buffer.time = 3

[Command]
name = "Strong Tsumaki"
command = ~D, DB, B, ~b
time = 20
buffer.time = 3

[Command]
name = "EX Tsumaki"
command = ~D, DB, B, c
time = 20
buffer.time = 3

[Command]
name = "EX Tsumaki"
command = ~D, DB, B, ~c
time = 20
buffer.time = 3

[Command]
name = "Weak Fire Hadouken"
command = ~F, DF, D, DB, B, x
time = 20
buffer.time = 3

[Command]
name = "Weak Fire Hadouken"
command = ~F, DF, D, DB, B, ~x
time = 20
buffer.time = 3

[Command]
name = "Strong Fire Hadouken"
command = ~F, DF, D, DB, B, y
time = 20
buffer.time = 3

[Command]
name = "Strong Fire Hadouken"
command = ~F, DF, D, DB, B, ~y
time = 20
buffer.time = 3

[Command]
name = "Weak JOUDAN-SOKUTOU-GERI"
command = ~D, DF, F, a
time = 30
buffer.time = 3

[Command]
name = "Weak JOUDAN-SOKUTOU-GERI"
command = ~D, DF, F, ~a
time = 30
buffer.time = 3

[Command]
name = "Strong JOUDAN-SOKUTOU-GERI"
command = ~D, DF, F, b
time = 30
buffer.time = 3

[Command]
name = "Strong JOUDAN-SOKUTOU-GERI"
command = ~D, DF, F, ~b
time = 30
buffer.time = 3

[Command]
name = "Very Strong JOUDAN-SOKUTOU-GERI"
command = ~D, DF, F, c
time = 30
buffer.time = 3

[Command]
name = "Very Strong JOUDAN-SOKUTOU-GERI"
command = ~D, DF, F, ~c
time = 30
buffer.time = 3


[Command]
name = "Shoulder Slam"
command = z

[Command]
name = "Tomoe Nage"
command = c

;-| Double Tap |-----------------------------------------------------------
[Command]
name = "FF"     ;Required (do not remove)
command = F, F
time = 10

[Command]
name = "BB"     ;Required (do not remove)
command = B, B
time = 10

;-| 2/3 Button Combination |-----------------------------------------------
[Command]
name = "recovery";Required (do not remove)
command = a+x
time = 1

[Command]
name = "start"
command = s
time = 1

;-| Hold Dir |--------------------------------------------------------------
[Command]
name = "holdfwd";Required (do not remove)
command = /$F
time = 1

[Command]
name = "holdback";Required (do not remove)
command = /$B
time = 1

[Command]
name = "holdup" ;Required (do not remove)
command = /$U
time = 1

[Command]
name = "holddown";Required (do not remove)
command = /$D
time = 1

;===========================================================================
;---------------------------------------------------------------------------
[Statedef -1]

;===========================================================================
;---------------------------------------------------------------------------
;Desesperation Attacks

;---------------------------------------------------------------------------
;Shin Shoryuken
[State -1, Shin Shoryuken]
type = ChangeState
triggerall = statetype != A
triggerall = (var(55) & 32768)
triggerall = power >= 3000 
trigger1 = (command = "Shinkuu Shoryuken")
value = 3600

;---------------------------------------------------------------------------
;Shinryuuken
[State -1, Shinryuuken]
type = ChangeState
triggerall = statetype != A
triggerall = (var(55) & 32768)
triggerall = power >= 3000 
trigger1 = (command = "Shinryuuken")
value = 3500

;---------------------------------------------------------------------------
;Shinkuu Hadouken
[State -1, Shinkuu Hadouken]
type = ChangeState
triggerall = statetype != A
triggerall = (var(55) & 8192)
triggerall = power >= 1000 
trigger1 = (command = "Shinkuu Hadouken")
value = 3000

;---------------------------------------------------------------------------
;Shoryu Reppa
[State -1, Shoryu Reppa]
type = ChangeState
triggerall = statetype != A
triggerall = (var(55) & 32768)
triggerall = power >= 1000 
trigger1 = (command = "Shoryu Reppa")
value = 3100

;---------------------------------------------------------------------------
;Shinkuu Tsumaki Senpuu Kyako
[State -1, Shinkuu Tsumaki]
type = ChangeState
triggerall = (var(55) & 16384)
triggerall = power >= 1000 
trigger1 = (command = "Shinkuu Tsumaki")
value = 3200 + (50*statetype = A)

;===========================================================================
;---------------------------------------------------------------------------
;Special Attacks

;---------------------------------------------------------------------------
;Shoryuken
[State -1, Shoryuken]
type = ChangeState
triggerall = StateType != A
triggerall = (var(55) & 256)
triggerall = power >= 0 
trigger1 = (command = "Weak Shoryuken")
trigger1 = (var(50) := 1)
trigger2 = (command = "Strong Shoryuken")
trigger2 = (var(50) := 2)
value = 1100

;---------------------------------------------------------------------------
;Shoryuken
[State -1, Shoryuken]
type = ChangeState
triggerall = StateType != A
triggerall = (var(55) & 256)
triggerall = power >= 200 
trigger1 = (command = "Kaze no Ken")
value = 1150

;---------------------------------------------------------------------------
;Fire Hadouken
[State -1, Hadouken]
type = ChangeState
triggerall = (var(55) & 1024)
triggerall = statetype != A
triggerall = numhelper(1300) = 0
trigger1 = (command = "Weak Fire Hadouken")
trigger1 = (var(50) := 1)
trigger2 = (command = "Strong Fire Hadouken")
trigger2 = (var(50) := 2)
value = 1300

;---------------------------------------------------------------------------
;Air Hadouken
[State -1, Hadouken]
type = ChangeState
triggerall = (var(55) & 128)
triggerall = statetype = A
triggerall = numhelper(1070) = 0
trigger1 = (command = "Weak Hadouken")
trigger1 = (var(50) := 1)
trigger2 = (command = "Strong Hadouken")
trigger2 = (var(50) := 2)
value = 1070

;---------------------------------------------------------------------------
;Fire Hadouken
[State -1, Hadouken]
type = ChangeState
triggerall = (var(55) & 1024)
triggerall = statetype != A
triggerall = numhelper(1400) = 0
trigger1 = power >= 200
trigger1 = (command = "Ooki Hadouken")
value = 1400

;---------------------------------------------------------------------------
;Hadouken
[State -1, Hadouken]
type = ChangeState
triggerall = (var(55) & 128)
triggerall = numhelper(1000) = 0
triggerall = power >= 0 
triggerall = statetype != A
trigger1 = (command = "Weak Hadouken")
trigger1 = (var(50) := 1)
trigger2 = (command = "Strong Hadouken")
trigger2 = (var(50) := 2)
value = 1000

;---------------------------------------------------------------------------
;Hadouken
[State -1, Hadouken]
type = ChangeState
triggerall = (var(55) & 128)
triggerall = numhelper(1000) = 0
triggerall = power >= 0 
triggerall = statetype = a
trigger1 = (command = "Weak AirHadouken")
trigger1 = (var(50) := 1)
trigger2 = (command = "Strong AirHadouken")
trigger2 = (var(50) := 2)
value = 1005

;---------------------------------------------------------------------------
;Hadouken
[State -1, Hadouken]
type = ChangeState
triggerall = (var(55) & 128)
triggerall = power >= 0 
triggerall = statetype != A
trigger1 = (command = "Fake Hadouken")
value = 1060

;---------------------------------------------------------------------------
;JOUDAN-SOKUTOU-GERI
[State -1, JOUDAN-SOKUTOU-GERI]
type = ChangeState
triggerall = (var(55) & 2048)
triggerall = power >= 0 
trigger1 = (command = "Weak JOUDAN-SOKUTOU-GERI")
trigger1 = (var(50) := 1)
trigger2 = (command = "Strong JOUDAN-SOKUTOU-GERI")
trigger2 = (var(50) := 2)
value = 1600

;---------------------------------------------------------------------------
;EX JOUDAN-SOKUTOU-GERI
[State -1, EX JOUDAN-SOKUTOU-GERI]
type = ChangeState
triggerall = (var(55) & 2048)
triggerall = power >= 0 
trigger1 = power >= 200
trigger1 = (command = "Very Strong JOUDAN-SOKUTOU-GERI")
value = 1610

;---------------------------------------------------------------------------
;Tsumaki Senpuu Kyako
[State -1, Tsumaki Senpuu Kyako]
type = ChangeState
triggerall = (var(55) & 512)
triggerall = power >= 0 
trigger1 = (command = "Weak Tsumaki")
trigger1 = (var(50) := 1)
trigger2 = (command = "Strong Tsumaki")
trigger2 = (var(50) := 2)
value = 1200 + 50 * (Statetype = A)

;---------------------------------------------------------------------------
;EX Tsumaki Senpuu Kyako
[State -1, Tsumaki Senpuu Kyako]
type = ChangeState
triggerall = (var(55) & 512)
triggerall = power >= 200
trigger1 = (command = "EX Tsumaki")
value = 1280

;===========================================================================
;---------------------------------------------------------------------------
;Run Fwd
[State -1, Run Fwd]
type = ChangeState
value = 100
trigger1 = command = "FF"
trigger1 = statetype = S
trigger1 = ctrl

;---------------------------------------------------------------------------
;Run Back
[State -1, Run Back]
type = ChangeState
value = 105
trigger1 = command = "BB"
trigger1 = statetype = S
trigger1 = ctrl

;===========================================================================
;Normal Attacks

;---------------------------------------------------------------------------
;Evade
[State -1, Zero Counter]
type = ChangeState
triggerall = stateno = 0 || stateno = 20
trigger1 = (command = "recovery")
value = 2200

;---------------------------------------------------------------------------
;Shoulder Slam Start
[State -1, Shoulder Slam]
type = ChangeState
triggerall = statetype = S
triggerall = Stateno != 100
triggerall = var(55) & 4
triggerall = command = "Shoulder Slam"
trigger1 = (command != "holdback")
trigger1 = (var(50) := 1)
trigger2 = (command = "holdback")
trigger2 = (var(50) := 2)
value = 800

;---------------------------------------------------------------------------
;Tomoe Nage Start
[State -1, Shoulder Slam]
type = ChangeState
triggerall = statetype = S
triggerall = Stateno != 100
triggerall = var(55) & 4
triggerall = command = "Tomoe Nage"
trigger1 = (command != "holdback")
trigger1 = (var(50) := 1)
trigger2 = (command = "holdback")
trigger2 = (var(50) := 2)
value = 810

;---------------------------------------------------------------------------
;Stand/Crouch Strong Punch
[State -1, Stand/Crouch Strong Punch]
type = ChangeState
trigger1 = statetype = S
trigger1 = (var(55) & 4)
trigger1 = (command = "fwd_x")
value = 240

;---------------------------------------------------------------------------
;Near Stand Weak Punch
[State -1, Near Stand Weak Punch]
type = ChangeState
trigger1 = statetype = S
trigger1 = (command != "holddown")
trigger1 = (var(55) & 1)
trigger1 = (command = "x")
trigger1 = P2BodyDist X < 9
value = 205

;---------------------------------------------------------------------------
;Stand/Crouch Light Punch
[State -1, Stand Light Punch]
type = ChangeState
triggerall = statetype != A
trigger1 = (var(55) & 1)
trigger1 = (command = "x")
value = 200 + (200 * Command = "holddown")

;---------------------------------------------------------------------------
;Near Stand Strong Punch
[State -1, Near Stand Strong Punch]
type = ChangeState
trigger1 = statetype = S
trigger1 = (command != "holddown")
trigger1 = (var(55) & 8)
trigger1 = (command = "y")
trigger1 = P2BodyDist X < 9
value = 225

;---------------------------------------------------------------------------
;Stand/Crouch Strong Punch
[State -1, Stand/Crouch Strong Punch]
type = ChangeState
triggerall = statetype != A
trigger1 = var(55) & 8
trigger1 = (command = "y")
value = 220 + (200 * Command = "holddown")

;---------------------------------------------------------------------------
;Near Stand Weak Kick
[State -1, Near Stand Weak Kick]
type = ChangeState
trigger1 = statetype = S
trigger1 = (command != "holddown")
trigger1 = (var(55) & 2)
trigger1 = (command = "a")
trigger1 = P2BodyDist X < 9
value = 215

;---------------------------------------------------------------------------
;Stand/Crouch Light Kick
[State -1, Stand/Crouch Light Kick]
type = ChangeState
triggerall = statetype != A
trigger1 = (var(55) & 2)
trigger1 = (command = "a")
value = 210 + (200 * Command = "holddown")

;---------------------------------------------------------------------------
;Near Stand Strong Kick
[State -1, Near Stand Strong Kick]
type = ChangeState
trigger1 = statetype = S
trigger1 = (command != "holddown")
trigger1 = (var(55) & 16)
trigger1 = (command = "b")
trigger1 = P2BodyDist X < 9
value = 235

;---------------------------------------------------------------------------
;Stand/Crouch Strong Kick
[State -1, Stand/Crouch Strong Punch]
type = ChangeState
triggerall = statetype != A
trigger1 = var(55) & 16
trigger1 = (command = "b")
value = 230 + (200 * Command = "holddown")

;---------------------------------------------------------------------------
;Taunt
[State -1, Taunt]
type = ChangeState
value = 195
triggerall = command = "start"
trigger1 = statetype != A
trigger1 = ctrl
trigger1 = var(41) = 0

;---------------------------------------------------------------------------
;Jump Weak Punch
[State -1, Jump Weak Punch]
type = ChangeState
trigger1 = var(55) & 32
trigger1 = (command = "x")
value = 600

;---------------------------------------------------------------------------
;Jump Weak Kick
[State -1, Jump Weak Kick]
type = ChangeState
trigger1 = var(55) & 32
trigger1 = (command = "a")
value = 610

;---------------------------------------------------------------------------
;Jump Strong Punch
[State -1, Jump Strong Punch]
type = ChangeState
trigger1 = var(55) & 64
trigger1 = (command = "y")
value = 620

;---------------------------------------------------------------------------
;Jump Strong Kick
[State -1, Jump Strong Kick]
type = ChangeState
trigger1 = var(55) & 64
trigger1 = (command = "b")
value = 630

;---------------------------------------------------------------------------
;Emergency Escape
[State -1, Zero Counter]
type = ChangeState
triggerall = var(55) & 131072
triggerall = (command = "start")
trigger1 = (command = "holdfwd")
triggerall = power >= 250
value = 2100

;---------------------------------------------------------------------------
;Zero Counter
[State -1, Zero Counter]
type = ChangeState
triggerall = power >= 250
trigger1 = var(55) & 131072
trigger1 = (command = "start")
value = 2000