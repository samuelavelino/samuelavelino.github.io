
;================================
;KYO KUSANAGI X CMD FILE
;================================

;-| Single Button |---------------------------------------------------------

[Command]
name = "a"
command = a
time = 1

[Command]
name = "b"
command = b
time = 1

[Command]
name = "c"
command = c
time = 1

[Command]
name = "x"
command = x
time = 1

[Command]
name = "y"
command = y
time = 1

[Command]
name = "z"
command = z
time = 1

[Command]
name = "s"
command = s
time = 1

;-| Hold Dir |--------------------------------------------------------------

[Command]
name = "holdfwd"
command = /$F
time = 1

[Command]
name = "holdback"
command = /$B
time = 1

[Command]
name = "holdup"
command = /$U
time = 1

[Command]
name = "holddown"
command = /$D
time = 1

;-| Hold Button |----------------------------------------------------------

[Command]
name = "holda"
command = /a
time = 1

[Command]
name = "holdb"
command = /b
time = 1

[Command]
name = "holdc"
command = /c
time = 1

[Command]
name = "holdx"
command = /x
time = 1

[Command]
name = "holdy"
command = /y
time = 1

[Command]
name = "holdz"
command = /z
time = 1

[Command]
name = "holds"
command = /s
time = 1

;-| CPU |--------------------------------------------------------------

[Command]
name = "a2"
command = a
time = 1

[Command]
name = "b2"
command = b
time = 1

[Command]
name = "c2"
command = c
time = 1

[Command]
name = "x2"
command = x
time = 1

[Command]
name = "y2"
command = y
time = 1

[Command]
name = "z2"
command = z
time = 1

[Command]
name = "s2"
command = s
time = 1

[Command]
name = "holda2"
command = /a
time = 1

[Command]
name = "holdb2"
command = /b
time = 1

[Command]
name = "holdc2"
command = /c
time = 1

[Command]
name = "holdx2"
command = /x
time = 1

[Command]
name = "holdy2"
command = /y
time = 1

[Command]
name = "holdz2"
command = /z
time = 1

;[Command]
;name = "holds2"
;command = /s
;time = 1

; Only room for one more unique command label. :(
; So, let's not hog the last spot with the back-up AI activation code.

;=====================[SHORTCUTS]======================
;NOTE: DELETE THIS GROUP OF CMDS TO REMOVE SHORTCUT DMS
;      OR MODIFY THEM TO USE ROLL/DODGE.
[Command]
name = "kamisx"
command = c
time = 1

[Command]
name = "kamisz"
command = c
time = 1

[Command]
name = "orochinagix"
command = z
time = 1

[Command]
name = "mushikix"
command = c
time = 1

[Command]
name = "mushiki"
command = c
time = 1

[Command]
name = "orochinagi2"
command = z
time = 1

;=================[MODE/GROOVE]====================
[Command]
name = "groove"
command = /F, s
time = 1

[Command]
name = "mode"
command = /B, s
time = 1

[Command]
name = "taunt2"
command = /D, s
time = 1

[Command]
name = "taunt"
command =  s
time = 1

[Command]
name = "shingo"
command = y+a
time = 1

[Command]
name = "2k1"
command = x+y
time = 1


;=================[Hyper Moves]====================

[Command]
name = "kamisx"
command = ~DF,B,DF,B, x
time = 60

[Command]
name = "kamisx"
command = ~DF,B,DF,B, x
time = 60

[Command]
name = "kamisx"
command = ~F,D,B,F,D,B,x
time = 60

[Command]
name = "kamisx"
command = ~F,D,B,F,D,B,y
time = 60

[Command]
name = "kamisx"
command = ~F,D,B,F,D,B,x
time = 60

[Command]
name = "kamisz"
command = ~DF,B,DF,B, x+y
time = 60

[Command]
name = "kamisz"
command = ~F,D,B,F,D,B,x+y
time = 60

;-------------------------------------
[Command]
name = "kamissx"
command = ~DF,B,DF,B, x
time = 60

[Command]
name = "kamissx"
command = ~DF,B,DF,B, x
time = 60

[Command]
name = "kamissx"
command = ~F,D,B,F,D,B,x
time = 60

[Command]
name = "kamissx"
command = ~F,D,B,F,D,B,y
time = 60

[Command]
name = "kamissx"
command = ~F,D,B,F,D,B,x
time = 60

[Command]
name = "kamissz"
command = ~DF,B,DF,B, x+y
time = 60

[Command]
name = "kamissz"
command = ~F,D,B,F,D,B,x+y
time = 60

[Command]
name = "kamissx"
command = ~D,DB,B, c
time = 25

[Command]
name = "kamissz"
command = ~D,DB,B, c
time = 25

[Command]
name = "shiki182x"
command = ~D,DF,F, c
time = 25

[Command]
name = "shiki182"
command = ~D,DF,F, c
time = 25

[Command]
name = "shiki2kx"
command = ~D,DF,F, z
time = 25

[Command]
name = "shiki2k"
command = ~D,DF,F, z
time = 25

[Command]
name = "shiki2k"
command = ~D,DB,B,D,DB,B, x
time = 25

[Command]
name = "shiki2k"
command = ~D,DB,B,D,DB,B, y
time = 25

[Command]
name = "shiki2kx"
command = ~D,DB,B,D,DB,B, x+y
time = 25

[Command]
name = "shiki182x"
command = ~D,DF,F,D,DF,F, a+b
time = 25

[Command]
name = "shiki182"
command = ~D,DF,F,D,DF,F, a
time = 25

[Command]
name = "shiki182"
command = ~D,DF,F,D,DF,F, b
time = 25

[Command]
name = "mushikix"
command = ~D,DF,F,D,DF,F, x+y
time = 25

[Command]
name = "mushiki"
command = ~D,DF,F,D,DF,F, x
time = 25

[Command]
name = "mushiki"
command = ~D,DF,F,D,DF,F, y
time = 25

[Command]
name = "shikitaunt"
command = /F + x
time = 5

[Command]
name = "shikitaunt"
command = /F + y
time = 5

[Command]
name = "orochinagix"
command = ~D,DB,B,D,DF,F, x+y
time = 25

[Command]
name = "orochinagi1"
command = ~D,DB,B,D,DF,F, x
time = 25

[Command]
name = "orochinagi2"
command = ~D,DB,B,D,DF,F, y
time = 25

[Command]
name = "wait"
command = /x
time = 1

[Command]
name = "wait"
command = /y
time = 1

[Command]
name = "wait"
command = /z
time = 1

[Command]
name = "wait"
command = /a
time = 1

[Command]
name = "wait"
command = /b
time = 1

[Command]
name = "wait"
command = /c
time = 1

;=================[Special Moves]==================
[Command]
name = "aragami"
command = D,DF,F, x
time = 20

[Command]
name = "sabi"
command = ~F,DF,D,DB,B, x
time = 25

[Command]
name = "sabi"
command = ~F,DF,D,DB,B, y
time = 25

[Command]
name = "sabi"
command = ~F,D,B, x
time = 25

[Command]
name = "sabi"
command = ~F,D,B, y
time = 25

[Command]
name = "sabi"
command = ~DF,D,DB, x
time = 25

[Command]
name = "sabi"
command = ~DF,D,DB, y
time = 25

[Command]
name = "sabi"
command = ~DF,D,B, x
time = 25

[Command]
name = "sabi"
command = ~DF,D,B, y
time = 25

[Command]
name = "kizu"
command = ~D,DF,F, x
time = 20

[Command]
name = "kizu"
command = ~D,DF,F, y
time = 20

[Command]
name = "ugachi"
command = x
time = 1

[Command]
name = "ugachi"
command = y
time = 1

[Command]
name = "nanase"
command = a
time = 1

[Command]
name = "nanase"
command = b
time = 1
;-------------------------------------------
[Command]
name = "dokugami"
command = D,DF,F, y
time = 20

[Command]
name = "yomi"
command = ~F,DF,D,DB,B, x
time = 25

[Command]
name = "yomi"
command = ~F,DF,D,DB,B, y
time = 25

[Command]
name = "yomi"
command = ~F,D,B, x
time = 25

[Command]
name = "yomi"
command = ~F,D,B, y
time = 25

[Command]
name = "yomi"
command = ~DF,D,DB, x
time = 25

[Command]
name = "yomi"
command = ~DF,D,DB, y
time = 25

[Command]
name = "yomi"
command = ~DF,D,$B, x
time = 25

[Command]
name = "yomi"
command = ~DF,D,$B, y
time = 25

[Command]
name = "batsu"
command = F, x
time = 20

[Command]
name = "batsu"
command = F, y
time = 20

;-------------------------------------------
[Command]
name = "tsumi1"
command = ~D,DB,B, x
time = 20

[Command]
name = "tsumi2"
command = ~D,DB,B, y
time = 20
;-------------------------------------------
;---------------------------------
[Command]
name = "yomi1"
command = ~F,DF,D,DB,B, x
time = 25

[Command]
name = "yomi2"
command = ~F,DF,D,DB,B, y
time = 25

[Command]
name = "yomi1"
command = ~F,D,B, x
time = 25

[Command]
name = "yomi2"
command = ~F,D,B, y
time = 25

[Command]
name = "yomi1"
command = ~DF,D,DB, x
time = 25

[Command]
name = "yomi2"
command = ~DF,D,DB, y
time = 25

[Command]
name = "yomi1"
command = ~DF,D,B, x
time = 25

[Command]
name = "yomi2"
command = ~DF,D,B, y
time = 25
;----------------------------
[Command]
name = "tsuki1"
command = ~F,DF,D,DB,B, a
time = 25

[Command]
name = "tsuki2"
command = ~F,DF,D,DB,B, b
time = 25

[Command]
name = "tsuki1"
command = ~F,D,B, a
time = 25

[Command]
name = "tsuki2"
command = ~F,D,B, b
time = 25

[Command]
name = "tsuki1"
command = ~F,D,DB, a
time = 25

[Command]
name = "tsuki2"
command = ~F,D,DB, b
time = 25

[Command]
name = "tsuki1"
command = ~DF,D,DB,B, a
time = 25

[Command]
name = "tsuki2"
command = ~DF,D,DB,B, b
time = 25

[Command]
name = "tsuki1"
command = ~DF,D,$B, a
time = 25

[Command]
name = "tsuki2"
command = ~DF,D,$B, b
time = 25

[Command]
name = "2kyou1"
command = ~D,DB,B, a
time = 25

[Command]
name = "2kyou2"
command = ~D,DB,B, b
time = 25

[Command]
name = "99you1"
command = ~B,DB,D,DF,F, a
time = 35
[Command]
name = "99you2"
command = ~B,DB,D,DF,F, b
time = 35

;-------------------------------------------
;MIX
[Command]
name = "fire1"
command = ~B,DB,D,DF,F, x
time = 25
[Command]
name = "fire2"
command = ~B,DB,D,DF,F, y
time = 25
;--------------------------------
;EXTRA
[Command]
name = "apoy1"
command = ~D,DF,F, x
time = 20
[Command]
name = "apoy2"
command = ~D,DF,F, y
time = 20

;--------------------------------
[Command]
name = "yaki1"
command = F,D,DF, x
time = 20

[Command]
name = "yaki2"
command = F,D,DF, y
time = 20
;------------------------------
;MIX
[Command]
name = "tres1"
command = F,D,DF, a
time = 20
[Command]
name = "tres2"
command = F,D,DF, b
time = 20
;--------------------------------

[Command]
name = "red1"
command = ~B,D,DB, a
time = 25

[Command]
name = "red2"
command = ~B,D,DB, b
time = 25

[Command]
name = "kai1"
command = D,DF,F, a
time = 20

[Command]
name = "kai2"
command = D,DF,F, b
time = 20
;--------------------------------------------
[Command]
name = "smash"
command = /DF, y
time = 2

[Command]
name = "roll99"
command = a+b
time = 1

;--------------------------------------------
;RUN 
[Command]
name = "FF"
command = F, F
time = 15

;Back
[Command]
name = "BB"
command = B, B
time = 10

;-|Button Combination|-----------------------------------------------

[Command]
name = "max"
command = x+y+a
time = 1

[Command]
name = "longjump"
command = ~D, ~$U
time = 18

[Command]
name = "recovery"
command = x+a
time = 1

[Command]
name = "dodge"
command = x+y
time = 1

[Command]
name = "knockdown"
command = y+b
time = 1

[Command]
name = "roll"
command = x+a
time = 1

[Command]
name = "schange"
command = x+b
time = 1

[Command]
name = "ac"
command = a+c
time = 1

[Command]
name = "bc"
command = b+c
time = 1

[Command]
name = "abc"
command = a+b+c
time = 1

[Command]
name = "yb"
command = y+b
time = 1

[Command]
name = "xa"
command = x+a
time = 1

[Command]
name = "ab"
command = a+b
time = 1

[Command]
name = "xz"
command = x+z
time = 1

[Command]
name = "yz"
command = y+z
time = 1

;POWER UP
[Command]
name = "xyz"
command = x+y+z
time = 1

[Command]
name = "armor"
command = a+b+y
time = 1

[Command]
name = "counter"
command = x+y+b
time = 1

;------------------------------------------------------------------------------
;HOLD BUTTONS

[Command]
name = "hold_a"
command = /$a
time = 1

[Command]
name = "hold_b"
command = /$b
time = 1

; Not currently used, so disabled to make more room in the command array:
;[Command]
;name = "hold_c"
;command = /$c
;time = 1

[Command]
name = "hold_x"
command = /$x
time = 1

[Command]
name = "hold_y"
command = /$y
time = 1

; Also not currently used:
;[Command]
;name = "hold_z"
;command = /$z
;time = 1

;[Command]
;name = "hold_s"
;command = /$s
;time = 1

;==================================================================================
;DIR

[Command]
name = "fwd"
command = F
time = 1

[Command]
name = "back"
command = B
time = 1

;==================================================================================
;HOLD DIR

[Command]
name = "/DB"
command = /DB
time = 1

;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;HOLD DIR + BUTTON

[Command]
name = "holdfwd_x"
command = /$F, x
time = 1

[Command]
name = "holdfwd_y"
command = /$F, y
time = 1

[Command]
name = "fwd_a"
command = /F,a
time = 1

[Command]
name = "fwd_b"
command = /F,b
time = 1

[Command]
name = "fwd_x"
command = /F,x

[Command]
name = "fwd_z"
command = /F,z

[Command]
name = "back_z"
command = /B,z

[Command]
name = "back_a"
command = /B,a

[Command]
name = "back_x"
command = /B,x

[Command]
name = "fwd_y"
command = /F,y

[Command]
name = "back_y"
command = /B,y

[Command]
name = "down_y"
command = /D, y

[Command]
name = "down_b"
command = /D, b

[Command]
name = "down_z"
command = /D, z

;=========================================================
; -----------------<> COMMAND CODES <>------------------
;=========================================================

[Statedef -1]

[State -1, AI Helper Check]
type = ChangeState
trigger1 = IsHelper(9741)
value = 9741

[State -1, AI Helper Check 2]
type = ChangeState
trigger1 = IsHelper(9742)
value = 9742

;=========================
; COMBO VAR 
;=========================

;========================================
[State -1, Combo1]
type = Varset
trigger1 = 1
var(39) = 0

[State -1, Combo2]
type = Varset
trigger1 = stateno = 250 && animelemtime(2) > 0 && animelemtime(3) < 0
trigger2 = stateno = 270 && animelemtime(3) > 0 && animelemtime(4) < 0
trigger3 = stateno = 440 && animelemtime(3) > 0 && animelemtime(4) < 0
trigger4 = stateno = 210 && animelemtime(2) > 0 && animelemtime(3) < 0
trigger5 = stateno = 230 && animelemtime(3) > 0 && animelemtime(4) < 0
trigger6 = stateno = 400 && animelemtime(2) > 0 && animelemtime(3) < 0
trigger7 = stateno = 420 && animelemtime(2) > 0  && animelemtime(3) < 0
trigger8 = stateno = 240 && animelemtime(5) = [1,4]
trigger9 = stateno = 460 && animelemtime(5) > 0 && animelemtime(6) < 0
trigger10 = stateno = 280 && animelemtime(5) > 0 && animelemtime(6) < 0
trigger11 = stateno = 703 && animelemtime(4) > 0 && animelemtime(5) < 0
trigger12 = stateno = 200 && animelemtime(2) > 0 && animelemtime(3) < 0
trigger13 = stateno = 226 && movecontact && (animelemtime(2) > 0 && animelemtime(3) < 0)
trigger14 = var(41) = 1 && (stateno = 150 || stateno = 152) 
trigger15 = stateno = 217 && animelemtime(9) >= 0 && animelemtime(11) < 0 
trigger16 = stateno = 237 && animelemtime(11) >= 0 && animelemtime(12) < 0 
trigger17 = stateno = 255 && animelemtime(3) > 0 && animelemtime(4) < 0
trigger18 = stateno = 275 && animelemtime(3) > 0 && animelemtime(4) < 0
trigger19 = stateno = 465 && animelemtime(2) > 0 && animelemtime(3) < 0
trigger20 = stateno = 445 && animelemtime(4) > 0 && animelemtime(5) < 0 
trigger21 = stateno = 215 && animelemtime(2) > 0 
trigger22 = stateno = 235 && animelemtime(3) > 0 
trigger23 = var(40) > 0 && stateno = 730 && movecontact
trigger24 = var(40) > 0 && stateno = 735 && movecontact
trigger25 = var(40) > 0 && stateno = 736 && movecontact
trigger26 = var(21) = 1 && (stateno = 150 || stateno = 152) 
trigger27 = stateno = 100
ignorehitpause = 1
var(39) = var(39) | 1

;======================
;COUNTER MODE COMBO VAR
;======================

[State -1, C.Combo1]
type = Varset
triggerall = var(40) > 0 || (var(21) = [5,6])
trigger1 = 1
var(42) = 0

[State -1, C.Combo2]
type = Varset
triggerall = var(40) > 0 || (var(21) = [5,6])
trigger1 = stateno = 1655 && animelemtime(1) > 0
trigger2 = stateno = 1605 && animelemtime(1) > 0
trigger3 = stateno = 1901 && animelemtime(1) > 0 && animelemtime(3) < 0
trigger4 = stateno = 2010 && animelemtime(5) > 0 && animelemtime(7) < 0
trigger5 = stateno = 2030 && animelemtime(8) > 0 && animelemtime(9) < 0
trigger6 = stateno = 2110 && animelemtime(4) > 0 && animelemtime(5) < 0
trigger7 = stateno = 1821 && animelemtime(1) > 0 && animelemtime(2) < 0
trigger8 = stateno = 3700 && animelemtime(5) > 0 && animelemtime(6) < 0
trigger9 = stateno = 4500 && animelemtime(8) > 0 && animelemtime(15) < 0
trigger10 = stateno = 4565 && animelemtime(11) > 0 && animelemtime(12) < 0
trigger11 = stateno = 4580 && animelemtime(7) > 0 && animelemtime(9) < 0
trigger12 = stateno = 4585 && animelemtime(6) > 0 && animelemtime(7) < 0 
trigger13 = stateno = 1802 && animelemtime(3) > 0 
trigger14 = stateno = 9000 && animelemtime(6) > 0 
ignorehitpause = 1
var(42) = var(42) | 1

[State -1, C.Combo3]
type = Varset
triggerall = var(40) > 0 || (var(21) = [5,6])
trigger1 = stateno = 1700 && animelemtime(6) > 0 
trigger2 = stateno = 1710 && animelemtime(6) > 0
trigger3 = stateno = 2052
ignorehitpause = 1
var(42) = var(42) | 1

[State -1, KOF2K1 Special Cancel]
type = Varset
trigger1 = var(42) = 1
trigger1 = (var(21) = [5,6])
ignorehitpause = 1
var(45) = var(45)|1

[State -1, KOF2K1 Special Cancel]
type = Varset
trigger1 = var(42) = 0
var(45) = 0

;==================
; Counter Mode DMS
;==================

;Kamijiri
[State -1, Kamijiri]
type = ChangeState
value = 9020
ctrl = 0
triggerall = var(9) != 1
triggerall = (var(41) = 6 && command = "kamisx") || (var(41) = 2 && command = "kamissx") 
triggerall = var(40) > 0
trigger1 = statetype != A
trigger1 = ctrl
trigger2 = var(39) = 1
trigger3 = var(42) = 1

;182 Shiki
[State -1, 182 Shiki ]
type = ChangeState
value = 4600
ctrl = 0
triggerall = var(9) != 1
triggerall = (var(41) = 5 && command = "mushiki") || (var(41) = 2 && command = "shiki182") 
triggerall = var(40) > 0
trigger1 = statetype != A
trigger1 = ctrl
trigger2 = var(39) = 1
trigger3 = var(42) = 1

;2K Shiki
[State -1, 2k Shiki ]
type = ChangeState
value = 4900
ctrl = 0
triggerall = var(9) != 1
triggerall = (var(41) = 7 && command = "mushiki") || (var(41) = 2 && command = "shiki2k")
triggerall = var(40) > 0
trigger1 = statetype != A
trigger1 = ctrl
trigger2 = var(39) = 1
trigger3 = var(42) = 1

[State -1, OrochiNagi1]
type = ChangeState
value = 3000
ctrl = 0
triggerall = var(9) != 1
triggerall = command = "orochinagi1" && var(41) != 4 && var(40) > 0
trigger1 = statetype != A
trigger1 = ctrl
trigger2 = var(39) = 1
trigger3 = var(42) = 1

;Ura Hyaku Hachi Shiki: Orochi Nagi II
[State -1, OrochiNagi2]
type = ChangeState
value = 3002
ctrl = 0
triggerall = var(9) != 1
triggerall = command = "orochinagi2" && var(41) != 4 && var(40) > 0
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1
trigger3 = var(42) = 1

;Saihuu Kessen Ougi: Mu Shiki
[State -1, Mu Shiki'98]
type = ChangeState
value = 3500
ctrl = 0
triggerall = var(9) != 1
triggerall = command = "mushiki"
triggerall = var(41) = 0 || var(41) = 2 || var(41) = 4 || var(41) = 8
triggerall = var(40) > 0
trigger1 = statetype != A && Ctrl
trigger2 = var(39) = 1
trigger3 = var(42) = 1

;========================
; HYPER MOVES
;========================

;Kamijiri
[State -1, Kamijiri SDM]
type = ChangeState
value = 9100
ctrl = 0
triggerall = var(9) != 1
triggerall = (var(41) = 6 && command = "kamisx") || (var(41) = 2 && command = "kamissx")
triggerall = (var(21) = [2,3])
triggerall = power >= 1000
triggerall = var(10) > 0 || life <= 200
trigger1 = statetype != A
trigger1 = ctrl
trigger2 = var(39) = 1

;Kamijiri
[State -1, Kamijiri SDM ADV]
type = ChangeState
value = 9100
ctrl = 0
triggerall = var(9) != 1
triggerall = (var(41) = 6 && command = "kamisx") || (var(41) = 2 && command = "kamissx")
triggerall = var(21) = 0 && power >= 1000 && var(10) > 0
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;Kamijiri
[State -1, Kamijiri SDM 2K ]
type = ChangeState
value = 9100
ctrl = 0
triggerall = var(9) != 1
triggerall = (var(41) = 6 && command = "kamisz") || (var(41) = 2 && command = "kamissz")
triggerall = (var(21) = 4 &&  power >= 3000) || ((var(21) = [5,6]) && power >= 2000)
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1
trigger3 = var(42) = 1 && (var(21) = [5,6]) && power >= 3000

;Kamijiri
[State -1, Kamijiri SDM EX ]
type = ChangeState
value = 9100
ctrl = 0
triggerall = var(9) != 1
triggerall = (var(41) = 6 && command = "kamisx") || (var(41) = 2 && command = "kamissx")
triggerall = (var(21) = 1) && var(10) > 0 && life <= 200
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;---------------------------------------------------------------------------------
;Kamijiri
[State -1, Kamijiri ]
type = ChangeState
value = 9020
ctrl = 0
triggerall = var(9) != 1
triggerall = (var(41) = 6 && command = "kamisx") || (var(41) = 2 && command = "kamissx")
triggerall = var(21) = 0 || var(21) = 4 || (var(21) = [5,6])
triggerall = power >= 1000 && var(10) <= 0
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1
trigger3 = var(42) = 1 && (var(21) = [5,6]) && power >= 2000

;Kamijiri
[State -1, Kamijiri  ]
type = ChangeState
value = 9020
ctrl = 0
triggerall = var(9) != 1
triggerall = (var(41) = 6 && command = "kamisx") || (var(41) = 2 && command = "kamissx")
triggerall = (var(21) = [2,3])
triggerall = power >= 1000 && var(10) <= 0 && life > 200
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;Kamijiri
[State -1, Kamijiri Extra]
type = ChangeState
value = 9020
ctrl = 0
triggerall = var(9) != 1
triggerall = (var(41) = 6 && command = "kamisx") || (var(41) = 2 && command = "kamissx")
triggerall = var(21) = 1
triggerall = var(10) > 0 || life <= 200
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1
;================================================================================

;============================================================================================

;182 Shiki SDM
[State -1, 182 Shiki SDM ]
type = ChangeState
value = 4700
ctrl = 0
triggerall = var(9) != 1
triggerall = (var(41) = 5 && command = "mushiki") || (var(41) = 2 && command = "shiki182")
triggerall = (var(21) = [2,3])
triggerall = power >= 1000
triggerall = var(10) > 0 || life <= 200
trigger1 = statetype != A
trigger1 = ctrl
trigger2 = var(39) = 1

;182 Shiki SDM
[State -1, 182 Shiki SDM ADV ]
type = ChangeState
value = 4700
ctrl = 0
triggerall = var(9) != 1
triggerall = (var(41) = 5 && command = "mushiki") || (var(41) = 2 && command = "shiki182")
triggerall = var(21) = 0 && power >= 1000 && var(10) > 0
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;182 Shiki SDM
[State -1, 182 Shiki SDM 2K ]
type = ChangeState
value = 4700
ctrl = 0
triggerall = var(9) != 1
triggerall = (var(41) = 5 && command = "mushikix") || (var(41) = 2 && command = "shiki182x") 
triggerall = (var(21) = 4 &&  power >= 3000) || ((var(21) = [5,6]) && power >= 2000)
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1
trigger3 = var(42) = 1 && (var(21) = [5,6]) && power >= 3000

;182 Shiki SDM
[State -1, 182 Shiki SDM EX ]
type = ChangeState
value = 4700
ctrl = 0
triggerall = var(9) != 1
triggerall = (var(41) = 5 && command = "mushiki") || (var(41) = 2 && command = "shiki182") 
triggerall = (var(21) = 1) && var(10) > 0 && life <= 200
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;---------------------------------------------------------------------------------
;---------------------------------------------------------------------------------
;182 Shiki
[State -1, 182 Shiki ]
type = ChangeState
value = 4600
ctrl = 0
triggerall = var(9) != 1
triggerall = (var(41) = 5 && command = "mushiki") || (var(41) = 2 && command = "shiki182") 
triggerall = var(21) = 0 || var(21) = 4 || (var(21) = [5,6])
triggerall = power >= 1000 && var(10) <= 0
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1
trigger3 = var(42) = 1 && (var(21) = [5,6]) && power >= 2000

;182 Shiki
[State -1, 182 Shiki ]
type = ChangeState
value = 4600
ctrl = 0
triggerall = var(9) != 1
triggerall = (var(41) = 5 && command = "mushiki") || (var(41) = 2 && command = "shiki182") 
triggerall = (var(21) = [2,3])
triggerall = power >= 1000 && var(10) <= 0 && life > 200
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

[State -1, 182 Shiki Extra]
type = ChangeState
value = 4600
ctrl = 0
triggerall = var(9) != 1
triggerall = (var(41) = 5 && command = "mushiki") || (var(41) = 2 && command = "shiki182") 
triggerall = var(21) = 1
triggerall = var(10) > 0 || life <= 200
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;================================================================================
;================================================================================
;KOF2000 SHIKI
; Shiki SDM
[State -1, 2K Shiki SDM ]
type = ChangeState
value = 4950
ctrl = 0
triggerall = var(9) != 1
triggerall = (var(41) = 7 && command = "mushiki") || (var(41) = 2 && command = "shiki2k") 
triggerall = (var(21) = [2,3]) 
triggerall = power >= 1000
triggerall = var(10) > 0 || life <= 200
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;2K Shiki SDM
[State -1, 2K Shiki SDM ADV ]
type = ChangeState
value = 4950
ctrl = 0
triggerall = var(9) != 1
triggerall = (var(41) = 7 && command = "mushiki") || (var(41) = 2 && command = "shiki2k")
triggerall = var(21) = 0 && power >= 1000 && var(10) > 0
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;2K Shiki SDM
[State -1, 2K Shiki SDM 2K ]
type = ChangeState
value = 4950
ctrl = 0
triggerall = var(9) != 1
triggerall = (var(41) = 7 && command = "mushikix") || (var(41) = 2 && command = "shiki2kx")
triggerall = (var(21) = 4 && power >= 3000) || ((var(21) = [5,6]) && power >= 2000)
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1
trigger3 = var(42) = 1 && (var(21) = [5,6]) && power >= 3000

;2K Shiki SDM
[State -1, 2K Shiki SDM EX ]
type = ChangeState
value = 4950
ctrl = 0
triggerall = var(9) != 1
triggerall = (var(41) = 7 && command = "mushiki") || (var(41) = 2 && command = "shiki2k")
triggerall = (var(21) = 1) && var(10) > 0 && life <= 200
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;---------------------------------------------------------------------------------
;2K Shiki
[State -1, 2k Shiki ]
type = ChangeState
value = 4900
ctrl = 0
triggerall = var(9) != 1
triggerall = (var(41) = 7 && command = "mushiki") || (var(41) = 2 && command = "shiki2k")
triggerall = var(21) = 0 || var(21) = 4 || (var(21) = [5,6])
triggerall = power >= 1000 && var(10) <= 0
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1
trigger3 = var(42) = 1 && (var(21) = [5,6]) && power >= 2000

;2K Shiki
[State -1, 2K Shiki ]
type = ChangeState
value = 4900
ctrl = 0
triggerall = var(9) != 1
triggerall = (var(41) = 7 && command = "mushiki") || (var(41) = 2 && command = "shiki2k")
triggerall = (var(21) = [2,3])
triggerall = power >= 1000
triggerall = var(10) <= 0 && life > 200
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

[State -1, 2K Shiki Extra]
type = ChangeState
value = 4900
ctrl = 0
triggerall = var(9) != 1
triggerall = (var(41) = 7 && command = "mushiki") || (var(41) = 2 && command = "shiki2k")
triggerall = var(21) = 1 
triggerall = var(10) > 0 || life <= 200
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1
;-----------------------------------------------------------------------
;Ura Hyaku Hachi Shiki: Orochi Nagi SDM 
[State -1, OrochiNagiSDM EX]
type = ChangeState
value = 3050
ctrl = 0
triggerall = var(9) != 1
triggerall = command = "orochinagi1" || command = "orochinagi2"
triggerall = var(41) != 4 && var(21) = 1
triggerall = life <= 200 && var(10) > 0
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;Ura Hyaku Hachi Shiki: Orochi Nagi SDM
[State -1, OrochiNagiSDM]
type = ChangeState
value = 3050
ctrl = 0
triggerall = var(9) != 1
triggerall = command = "orochinagi1" || command = "orochinagi2"
triggerall = var(41) != 4 && power >= 1000  && var(10) > 0 && var(21) = 0
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;Ura Hyaku Hachi Shiki: Orochi Nagi SDM
[State -1, OrochiNagiSDM]
type = ChangeState
value = 3050
ctrl = 0
triggerall = var(9) != 1
triggerall = command = "orochinagi1" || command = "orochinagi2"
triggerall = var(41) != 4 && power >= 1000  && Var(21) = 2
triggerall = life <= 200 || var(10) > 0
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;Ura Hyaku Hachi Shiki: Orochi Nagi SDM
[State -1, OrochiNagiSDM '99]
type = ChangeState
value = 3050
ctrl = 0
triggerall = var(9) != 1
triggerall = command = "orochinagi1" || command = "orochinagi2"
triggerall = var(41) != 4 && power >= 1000 && Var(21) = 3 && life <= 200
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;Ura Hyaku Hachi Shiki: Orochi Nagi SDM
[State -1, OrochiNagiSDM '2K]
type = ChangeState
value = 3050
ctrl = 0
triggerall = var(9) != 1
triggerall = command = "orochinagix"
triggerall = var(41) != 4 
triggerall = (power >= 3000 && Var(21) = 4) || ((var(21) = [5,6]) && power >= 2000)
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1
trigger3 = var(42) = 1 && (var(21) = [5,6]) && power >= 3000

;------------------------------------------------------------------------------------
;Ura Hyaku Hachi Shiki: Orochi Nagi I
[State -1, OrochiNagi1 EXTRA]
type = ChangeState
value = 3000
ctrl = 0
triggerall = var(9) != 1
triggerall = command = "orochinagi1"
triggerall = var(41) != 4 && var(21) = 1
triggerall = var(10) > 0 || life <= 200
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;Ura Hyaku Hachi Shiki: Orochi Nagi II
[State -1, OrochiNagi2 EXTRA]
type = ChangeState
value = 3002
ctrl = 0
triggerall = var(9) != 1
triggerall = command = "orochinagi2"
triggerall = var(41) != 4 && var(21) = 1
triggerall = var(10) > 0 || life <= 200
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;Ura Hyaku Hachi Shiki: Orochi Nagi I
[State -1, OrochiNagiADVMIX]
type = ChangeState
value = 3000
ctrl = 0
triggerall = var(9) != 1
triggerall = command = "orochinagi1"
triggerall = var(41) != 4 && power >= 1000 && var(10) <= 0
triggerall = var(21) = 0 || var(21) = 2
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;Ura Hyaku Hachi Shiki: Orochi Nagi II
[State -1, OrochiNagiADVMIX]
type = ChangeState
value = 3002
ctrl = 0
triggerall = var(9) != 1
triggerall = command = "orochinagi2"
triggerall = var(41) != 4 && power >= 1000 && var(10) <= 0
triggerall = var(21) = 0 || var(21) = 2
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;Ura Hyaku Hachi Shiki: Orochi Nagi I
[State -1, OrochiNagi '99]
type = ChangeState
value = 3000
ctrl = 0
triggerall = var(9) != 1
triggerall = command = "orochinagi1"
triggerall = (var(21) = 3 && life > 200 && power >= 1000 ) ||(var(21) = 4 && power >= 1000) || ((var(21) = [5,6]) && power >= 1000)
triggerall = var(41) != 4
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1
trigger3 = var(42) = 1 && (var(21) = [5,6]) && power >= 2000

;Ura Hyaku Hachi Shiki: Orochi Nagi II
[State -1, OrochiNagi '99]
type = ChangeState
value = 3002
ctrl = 0
triggerall = var(9) != 1
triggerall = command = "orochinagi2"
triggerall = (var(21) = 3 && life > 200 && power >= 1000 ) ||(var(21) = 4 && power >= 1000) || ((var(21) = [5,6]) && power >= 1000)
triggerall = var(41) != 4
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1
trigger3 = var(42) = 1 && (var(21) = [5,6]) && power >= 2000

;==========================================================================================
;Saihuu Kessen Ougi: Mu Shiki SDM
[State -1, Mu Shiki SDM EXTRA]
type = ChangeState
value = 3600
ctrl = 0
triggerall = var(9) != 1
triggerall = command = "mushiki"
triggerall = var(41) = 0 || var(41) = 2 || var(41) = 4 || var(41) = 8
triggerall = var(21) = 1 && var(10) > 0 && life <= 200
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;Saihuu Kessen Ougi: Mu Shiki SDM
[State -1, Mu Shiki SDM ADV]
type = ChangeState
value = 3600
ctrl = 0
triggerall = var(9) != 1
triggerall = command = "mushiki"
triggerall = var(41) = 0 || var(41) = 2 || var(41) = 4 || var(41) = 8
triggerall = var(21) = 0 && power >= 1000 && var(10) > 0
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;Saihuu Kessen Ougi: Mu Shiki SDM
[State -1, Mu Shiki SDM Mix/'99]
type = ChangeState
value = 3600
ctrl = 0
triggerall = var(9) != 1
triggerall = command = "mushiki"
triggerall = var(41) = 0 || var(41) = 2 || var(41) = 4 || var(41) = 8
triggerall = var(21) = 2 || var(21) = 3
triggerall = power >= 1000 
triggerall = life <= 200 || var(10) > 0
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;Saihuu Kessen Ougi: Mu Shiki SDM
[State -1, Mu Shiki SDM Mix/'2K]
type = ChangeState
value = 3600
ctrl = 0
triggerall = var(9) != 1
triggerall = command = "mushikix"
triggerall = var(41) = 0 || var(41) = 2 || var(41) = 4 || var(41) = 8
triggerall = (var(21) = 4 && power >= 3000) || ((var(21) = [5,6]) && power >= 2000)
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1
trigger3 = var(42) = 1 && (var(21) = [5,6]) && power >= 3000

;Saihuu Kessen Ougi: Mu Shiki
[State -1, Mu Shiki '99]
type = ChangeState
value = 3500
ctrl = 0
triggerall = var(9) != 1
triggerall = command = "mushiki"
triggerall = var(41) = 0 || var(41) = 2 || var(41) = 4 || var(41) = 8
triggerall = var(21) = 3 && power >= 1000 && life > 200
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;Saihuu Kessen Ougi: Mu Shiki
[State -1, Mu Shiki '2K]
type = ChangeState
value = 3500
ctrl = 0
triggerall = var(9) != 1
triggerall = command = "mushiki"
triggerall = var(41) = 0 || var(41) = 2 || var(41) = 4 || var(41) = 8
triggerall = (var(21) = 4 && power >= 1000) || ((var(21) = [5,6]) && power >= 1000)
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1
trigger3 = var(42) = 1 && (var(21) = [5,6]) && power >= 2000

;Saihuu Kessen Ougi: Mu Shiki
[State -1, Mu ShikiADVMIX]
type = ChangeState
value = 3500
ctrl = 0
triggerall = var(9) != 1
triggerall = command = "mushiki"
triggerall = var(41) = 0 || var(41) = 2 || var(41) = 4 || var(41) = 8
triggerall = var(21) = 0 || var(21) = 2
triggerall = power >= 1000 && var(10) <= 0
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;Saihuu Kessen Ougi: Mu Shiki
[State -1, Mu ShikiEXTRA]
type = ChangeState
value = 3500
ctrl = 0
triggerall = var(9) != 1
triggerall = command = "mushiki"
triggerall = var(41) = 0 || var(41) = 2 || var(41) = 4 || var(41) = 8
triggerall = var(21) = 1
triggerall = var(10) > 0 || life <= 200
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;=========================================================================================
;===============
; SPECIAL MOVES
;===============

;212 Shiki: Kototsuki You Type 1
[State -1, kototsuki1]
type = ChangeState
value = 1800
ctrl = 0
triggerall = var(9) != 1
triggerall = command = "tsuki1"
triggerall = (var(41) = [0,2]) || var(41) = 4 || var(41) = 8
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;212 Shiki: Kototsuki You Type 2
[State -1, Kototsuki2]
type = ChangeState
value = 1850
ctrl = 0
triggerall = var(9) != 1
triggerall = command = "tsuki2"
triggerall = (var(41) = [0,2]) || var(41) = 4 || var(41) = 8
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;100 Shiki: Oni Yaki Type 1
[State -1, Oniyaki 1]
type = ChangeState
value = 1600
ctrl = 0
triggerall = var(9) != 1
triggerall = command = "yaki1"
triggerall = (var(41) = [0,2]) || var(41) = 4 || var(41) = 5 || (var(41) = [6,8])
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;100 Shiki: Oni Yaki Type 2
[State -1, oniyaki2]
type = ChangeState
value = 1650
ctrl = 0
triggerall = var(9) != 1
triggerall = command = "yaki2"
triggerall = (var(41) = [0,2]) || var(41) = 4 || var(41) = 5 || (var(41) = [6,8])
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;KYO-01 MODIFIED KOTOTSUKI YOU Type 1
[State -1, Kyo-1 YOU1]
type = ChangeState
value = 1820
triggerall = var(9) != 1
triggerall = (var(41) = 3 && command = "tsumi1") || (var(41) = 2 && command = "yomi1")
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;KYO-01 MODIFIED KOTOTSUKI YOU Type 2
[State -1, Kyo- 1 YOU2]
type = ChangeState
value = 1825
triggerall = var(9) != 1
triggerall = (var(41) = 3 && command = "tsumi2") || (var(41) = 2 && command = "yomi2")
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;900 Shiki: Nue Tsumi Type 1
[State -1, Tsumi1]
type = ChangeState
value = 1900
ctrl = 0
triggerall = var(9) != 1
triggerall = command = "tsumi1"
triggerall = numprojid(1701) = 0
triggerall = var(41) = 0 || var(41) = 2 || var(41) = 5 || (var(41) = [7,8])
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;900 Shiki: Nue Tsumi Type 2
[State -1, Tsumi2]
type = ChangeState
value = 1950
ctrl = 0
triggerall = var(9) != 1
triggerall = command = "tsumi2"
triggerall = numprojid(1701) = 0
triggerall = var(41) = 0 || var(41) = 2 || var(41) = 5 || (var(41) = [7,8])
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;108 Shiki: Yama Barai Type 1
[State -1, Barai1]
type = ChangeState
value = 1700
triggerall = var(9) != 1
triggerall = (command = "fire1" && var(41) = 2) || (command = "apoy1" && (var(41) = 1 || var(41) = 8)) || (command = "apoy1" && var(41) = 3) 
triggerall = numprojid(1701) = 0
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;108 Shiki: Yama Barai Type 2
[State -1, Barai2]
type = ChangeState
value = 1710
triggerall = var(9) != 1
triggerall = (command = "fire2" && var(41) = 2) || (command = "apoy2" && (var(41) = 1 || var(41) = 8)) || (command = "apoy2" && var(41) = 3) 
triggerall = numprojid(1701) = 0
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;114 Shiki: Ara Gami
[State -1, Ara Gami]
type = ChangeState
value = 2000
triggerall = var(9) != 1
triggerall = command = "aragami"
triggerall = var(41) = 0 || var(41) = 2 || var(41) = 4 || var(41) = 5 || (var(41) = [6,7])
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;115 Shiki: Doku Gami
[State -1, Doku Gami]
type = ChangeState
value = 2100
triggerall = var(9) != 1
triggerall = command = "dokugami"
triggerall = var(41) = 0 || var(41) = 2 || var(41) = 4 || var(41) = 5 || (var(41) = [6,7])
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;101 Shiki: Oboro Guruma Type 1
[State -1, Guruma1]
type = ChangeState
value = 1150
triggerall = var(9) != 1
triggerall = (command = "tres1" && var(41) = 2) || (command = "red1" && (var(41) = 1 || var(41) = 8)) || (command = "tres1" && var(41) = 3)
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;101 Shiki: Oboro Guruma Type 2
[State -1, Guruma2]
type = ChangeState
value = 1170
triggerall = var(9) != 1
triggerall = (command = "tres2" && var(41) = 2) || (command = "red2" && (var(41) = 1 || var(41) = 8)) || (command = "tres2" && var(41) = 3)
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;RED KICK Type 1
[State -1, RED1]
type = ChangeState
value = 1100
triggerall = var(9) != 1
triggerall = command = "red1"
triggerall = var(41) = 0 || var(41) = 2 || var(41) = 4 || var(41) = 5 || (var(41) = [6,7])
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;RED KICK Type 2
[State -1, RED2]
type = ChangeState
value = 1120
triggerall = var(9) != 1
triggerall = command = "red2"
triggerall = var(41) = 0 || var(41) = 2 || var(41) = 4 || var(41) = 5 || (var(41) = [6,7])
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;212 Shiki: Kototsuki You Type 1 KYO-99
[State -1, kototsuki1 99]
type = ChangeState
value = 4500
ctrl = 0
triggerall = var(9) != 1
triggerall = (var(41) = 5 && command = "tsuki1") || (var(41) = 2 && command = "99you1")
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;212 Shiki: Kototsuki You Type 2 KYO-99
[State -1, kototsuki1 99]
type = ChangeState
value = 4550
ctrl = 0
triggerall = var(9) != 1
triggerall = (var(41) = 5 && command = "tsuki2") || (var(41) = 2 && command = "99you2")
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;Hikigane 1 KYO-2K
[State -1, kototsuki1 2K]
type = ChangeState
value = 4570
ctrl = 0
triggerall = var(9) != 1
triggerall = ((var(41) = [6,7]) && command = "tsuki1") || (var(41) = 2 && command = "2kyou1")
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;Hikigane 2 KYO-2K
[State -1, kototsuki2 2K]
type = ChangeState
value = 4585
ctrl = 0
triggerall = var(9) != 1
triggerall = ((var(41) = [6,7]) && command = "tsuki2") || (var(41) = 2 && command = "2kyou2")
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;75 Shiki: Kai type 2
[State -1, KAI2]
type = ChangeState
value = 1010
triggerall = var(9) != 1
triggerall = command = "kai2"
triggerall = (var(41) = [0,3]) || var(41) = 5 || (var(41) = [6,8])
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;75 Shiki: Kai type 1
[State -1, KAI1]
type = ChangeState
value = 1000
triggerall = var(9) != 1
triggerall = command = "kai1"
triggerall = (var(41) = [0,3]) || var(41) = 5 || (var(41) = [6,8])
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1

;========================
; GROOVE CMDS
;========================

;COUNTER
[State -1]
type = ChangeState
value = 4850
triggerall = var(9) != 1
triggerall = command = "holdx" && command = "holdy" && command = "holdb"
triggerall = numhelper(4805) <= 0 && power >= 3000
triggerall = var(21) = 2 &&  var(37) <= 0 && var(10) <= 0 && var(40) <= 0
trigger1 = (stateno = [0,12]) && ctrl

;COUNTER
[State -1]
type = ChangeState
value = 4850
triggerall = var(9) != 1
triggerall = command = "holdx" && command = "holdy" && command = "holda"
triggerall = numhelper(4805) <= 0 && power >= 3000
triggerall = (var(21) = [3,4]) &&  var(37) <= 0 && var(10) <= 0 && var(40) <= 0
trigger1 = (stateno = [0,12]) && ctrl

;ARMOR
[State -1]
type = ChangeState
value = 4800
triggerall = var(9) != 1
triggerall = command = "holdy" && command = "holdb" && command = "holda"
triggerall = numhelper(4705) <= 0 && power >= 3000
triggerall = (var(21) = [2,4]) && var(37) <= 0 && var(10) <= 0 && var(40) <= 0
trigger1 = (stateno = [0,12]) && ctrl

;MAX
[State -1]
type = ChangeState
value = 707
triggerall = var(9) != 1
triggerall = command = "holdx" && command = "holdy" && command = "holda"
triggerall = var(21) = 0 || var(21) = 2
triggerall = var(10) <= 0 && var(40) <= 0 && var(37) <= 0 && power >= 1000
trigger1 = (stateno = [0,12]) && ctrl

;Charge XY
[State -1]
type = ChangeState
value = 704
triggerall = var(9) != 1
triggerall = command = "holdx" && command = "holdy"
triggerall = statetype != A && stateno = [0,12]
triggerall = var(40) <= 0 && var(37) <= 0
trigger1 = var(21) = 2 && power < 3000 && ctrl
trigger2 = var(21) = 1 && var(10) <= 0 && power < 1000 && ctrl

;---------------------------------
[State -1,rollB Counter]
type = ChangeState
value = 710
triggerall = var(9) != 1
triggerall = command = "roll" && command = "holdback"
triggerall = var(21) != 1 && power >= 1000 && life > 0 && statetype != A
trigger1 = stateno = 150 
trigger2 = stateno = 152 

[State -1,rollB Counter]
type = ChangeState
value = 710
triggerall = var(9) != 1
triggerall = command = "roll" && command = "holdback"
triggerall = var(21) = 1 && var(10) > 0 && life > 0 && statetype != A
trigger1 = stateno = 150 
trigger2 = stateno = 152 

[State -1,RollF counter]
type = ChangeState
value = 711
triggerall = var(9) != 1
triggerall = command = "roll" && command = "holdfwd"
triggerall = var(21) != 1 && power >= 1000 && life > 0 && statetype != A
trigger1 = stateno = 150 
trigger2 = stateno = 152 

[State -1,RollF counter]
type = ChangeState
value = 711
triggerall = var(9) != 1
triggerall = command = "roll" && command = "holdfwd"
triggerall = var(21) = 1 && var(10) > 0 && life > 0 && statetype != A
trigger1 = stateno = 150 
trigger2 = stateno = 152 

[State -1,CD counter]
type = ChangeState
value = 712
triggerall = var(9) != 1
triggerall = command = "knockdown"
triggerall = var(21) != 1 && power >= 1000 && life > 0 && statetype != A
trigger1 = stateno = 150 
trigger2 = stateno = 152 

[State -1,CD counter]
type = ChangeState
value = 712
triggerall = var(9) != 1
triggerall = command = "knockdown"
triggerall = var(21) = 1 && var(10) > 0 && life > 0 && statetype != A
trigger1 = stateno = 150 
trigger2 = stateno = 152 

[State -1,rollB]
type = ChangeState
value = 701
triggerall = var(9) != 1
triggerall = command = "roll" && command = "holdback"
triggerall = var(21) = 0 || var(21) = 2 || var(21) = 4 || (var(21) = [5,6]) || var(21) = 6
triggerall = life > 0 && statetype != A
trigger1 = (ctrl || stateno = 100)

[State -1,RollFRUN]
type = ChangeState
value = 706
triggerall = var(9) != 1
triggerall = command = "roll" && command = "holdfwd"
triggerall = var(21) = 0 || var(21) = 4 || (var(21) = [5,6]) || var(21) = 6
triggerall = stateno = 100 && life > 0 && statetype != A
trigger1 = (ctrl || stateno = 100)

[State -1,RollF] 
type = ChangeState
value = 700
triggerall = var(9) != 1
triggerall = command = "roll"
triggerall = stateno != 100 && life > 0 && statetype != A && (stateno = [0,20])
trigger1 = var(21) = 0 || var(21) = 4 || (var(21) = [5,6]) || var(21) = 6
trigger1 = (ctrl || stateno = 100)

[State -1,rollB99mix]
type = ChangeState
value = 740
triggerall = var(9) != 1
triggerall = command = "roll99" && var(21) = 2
triggerall = life > 0 && statetype != A
trigger1 = (ctrl || stateno = 100)

[State -1,rollB99]
type = ChangeState
value = 740
triggerall = var(9) != 1
triggerall = command = "roll" && command = "holdback" && var(21) = 3
triggerall = life > 0 && statetype != A
trigger1 =(ctrl || stateno = 100)

[State -1,RollF99/2K/MIX] 
type = ChangeState
value = 720
triggerall = var(9) != 1
triggerall = command = "roll"
triggerall = life > 0 && statetype != A && (ctrl || stateno = 100)
trigger1 = var(21) = 2 && command = "holdfwd"
trigger2 = var(21) = 3

[State -1,Sidestep]
type = ChangeState
value = 702
triggerall = var(9) != 1
triggerall = command = "roll"
triggerall = var(21) = 1 || var(21) = 2
triggerall = life > 0 && statetype != A && (stateno = [0,12])
trigger1 = (ctrl || stateno = 100)

;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
;-----------------
;STRIKER CALLS
;-------------------
[State -1,Striker '99]
type = ChangeState
value = 3900
triggerall = var(9) != 1
triggerall = command = "shingo"
triggerall = var(31) = 1 && var(34) > 0 && roundstate = 2 && numhelper(4000) <= 0
trigger1   = statetype != A && ctrl

[State -1, Shingo]
type = Helper
triggerall = var(9) != 1
triggerall = command = "shingo"
triggerall = var(43) = 0 && var(31) = 1 && var(34) > 0
trigger1 = roundstate = 2 && numhelper(4000) <= 0
trigger1 = (stateno != [3000,3690]) && (stateno != [4600,4800]) && (stateno != [300,315]) && (stateno != [4900,4999])  && (stateno != [9020,9150])
trigger1 = stateno != 3900 && stateno != 707 && stateno != 4850 && movetype != H && stateno != 0
ignorehitpause = 1
helpertype = normal
id      = 4000
stateno = 4000
name = "Shingo"
postype = back
pos = -20,-105
keyctrl = 0
ownpal = 1

[State -1, Daimon]
type = Helper
triggerall = var(9) != 1
triggerall = command = "shingo"
triggerall = var(43) = 1 && var(31) = 1 && var(34) > 0
trigger1 = roundstate = 2 && numhelper(4000) <= 0
trigger1 = (stateno != [3000,3690]) && (stateno != [4600,4800]) && (stateno != [300,315]) && (stateno != [4900,4999]) && (stateno != [9020,9150])
trigger1 = stateno != 3900 && stateno != 707 && stateno != 4850 && movetype != H && stateno != 0
ignorehitpause = 1
helpertype = normal
id      = 4000
stateno = 7000
name = "Daimon"
postype = back
pos = -20,-105
keyctrl = 0
ownpal = 1

[State -1, Benimaru]
type = Helper
triggerall = var(9) != 1
triggerall = command = "shingo"
triggerall = var(43) = 2 && var(31) = 1 && var(34) > 0
trigger1 = roundstate = 2 && numhelper(4000) <= 0
trigger1 = (stateno != [3000,3690]) && (stateno != [4600,4800]) && (stateno != [300,315]) && (stateno != [4900,4999]) && (stateno != [9020,9150])
trigger1 = stateno != 3900 && stateno != 707 && stateno != 4850 && movetype != H && stateno != 0
ignorehitpause = 1
helpertype = normal
id      = 4000
stateno = 7300
name = "Benimaru"
postype = back
pos = -20,-105
keyctrl = 0
ownpal = 1

;=======================================
;Striker Change
[State -1, A. Striker]
type = Helper
trigger1 = command = "schange"
trigger1 = numhelper(7110) <= 0 && (stateno != [4800,4850]) && stateno != 707 && movetype != H 
ignorehitpause = 1
helpertype = normal
id      = 7110
stateno = 7110
name = "Striker Change"
postype = p1
pos = -999,-999
keyctrl = 0
ownpal = 1
;=======================================

;=============================================================================
;-------------[Throws]------------------------
;===========================================================================
;GrabY
[State -1, GrabY ]
type = ChangeState
value = 300
triggerall = command = "y"
triggerall = statetype = S && ctrl && stateno != 100
trigger1 = command = "holdfwd" && p2bodydist X < 3 && p2movetype != H
trigger1 = (p2statetype = S) || (p2statetype != A)
trigger2 = command = "holdback" && p2bodydist X < 5 && p2movetype != H
trigger2 = (p2statetype = S) || (p2statetype != A)
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;GrabB
[State -1, GrabB ]
type = ChangeState
value = 310
triggerall = command = "b"
triggerall = statetype = S && ctrl && stateno != 100
trigger1 = command = "holdfwd" && p2bodydist X < 3 && p2movetype != H
trigger1 = (p2statetype = S) || (p2statetype != A)
trigger2 = command = "holdback" && p2bodydist X < 5 && p2movetype != H
trigger2 = (p2statetype = S) || (p2statetype != A)
;===========================================================================
[State -1,Knockdown]
type = ChangeState
value = 280
triggerall = var(9) != 1
triggerall = command = "knockdown" 
trigger1 = statetype = S && (ctrl || stateno = 100)
;-------------------------------------------
[State -1,JCD]
type = ChangeState
value = 660
triggerall = var(9) != 1
triggerall = command = "knockdown"
trigger1 = statetype = A && ctrl
;-------------------------------------------
[State -1,JBAYO]
type = ChangeState
value = 670
triggerall = var(9) != 1
triggerall = command = "y" && command = "holddown"
triggerall = (var(41) = [0,2]) || var(41) = 4 || var(41) = 5 || var(41) = 6 || var(41) = 7 || var(41) = 8
trigger1 = statetype = A && ctrl
trigger2 = stateno = 106 || stateno = 103
;-------------------------------------------

;Ground Smash
[State -1, Ground Smash KYO-1]
type = ChangeState
value = 447
triggerall = var(9) != 1
triggerall = command = "smash"
triggerall = var(41) = 3 || var(41) = 2
trigger1 = statetype != A && ctrl
trigger2 = stateno = 250 && animelemtime(2) > 0 && animelemtime(3) < 0
trigger3 = stateno = 270 && animelemtime(3) > 0 && animelemtime(6) < 0
trigger4 = stateno = 445 && animelemtime(3) > 0 && animelemtime(6) <= 0
trigger5 = stateno = 215 && animelemtime(2) > 0 
trigger6 = stateno = 235 && animelemtime(3) > 0 
trigger7 = stateno = 400 && animelemtime(2) > 0 
trigger7 = command != "holddown"
trigger8 = stateno = 420 && animelemtime(2) > 0
trigger8 = command != "holddown"
trigger9 = stateno = 240 && animelemtime(5) = [1,2]
trigger10 = stateno = 100

;========================[BASIC ATTACKS MODE: KYO-01]==================================
;Crouch Attacks
;======================

[State -1,CHK]
type = ChangeState
value = 465
triggerall = var(9) != 1
triggerall = command = "holddown"
triggerall = command = "b"
triggerall = var(41) = 4
trigger1 = statetype != A && ctrl
trigger2 = stateno = 100

[State -1,CHP]
type = ChangeState
value = 445
triggerall = var(9) != 1
triggerall = command = "holddown"
triggerall = command = "y"
triggerall = var(41) = 3
trigger1 = statetype != A && ctrl
trigger2 = stateno = 100

[State -1,CLP]
type = ChangeState
value = 400
triggerall = var(9) != 1
triggerall = command = "holddown"
triggerall = command = "x"
trigger1 = statetype != A && ctrl
trigger2 = stateno = 400 && animelemtime(2) >= 3
trigger3 = stateno = 420 && animelemtime(2) >= 1
trigger4 = stateno = 210 && animelemtime(2) >= 0 
trigger5 = stateno = 230 && animelemtime(3) >= 0 
trigger6 = stateno = 215 && animelemtime(2) >= 0 
trigger7 = stateno = 235 && animelemtime(3) >= 0 
trigger8 = stateno = 100

[State -1,CLK]
type = ChangeState
value = 420
triggerall = var(9) != 1
triggerall = command = "holddown"
triggerall = command = "a"
trigger1 = statetype != A && ctrl
trigger2 = stateno = 420 && animelemtime(2) >= 3
trigger3 = stateno = 210 && animelemtime(2) >= 0 
trigger4 = stateno = 230 && animelemtime(3) >= 0 
trigger5 = stateno = 400 && animelemtime(3) >= 2
trigger6 = stateno = 215 && animelemtime(2) >= 0 
trigger7 = stateno = 235 && animelemtime(3) >= 0 
trigger8 = stateno = 100

[State -1,CHP]
type = ChangeState
value = 440
triggerall = var(9) != 1
triggerall = command = "holddown"
triggerall = command = "y"
trigger1 = statetype != A && ctrl
trigger2 = stateno = 100

[State -1,CFHK]
type = ChangeState
value = 470
triggerall = var(9) != 1
triggerall = command = "holddown"
triggerall = command = "b" && command = "holdfwd"
triggerall = (var(41) = [0,2]) || var(41) = 5 || (var(41) = [6,8])
trigger1 = statetype != A && ctrl
trigger2 = stateno = 400 && animelemtime(2) >= 1 && animelemtime(3) <= 2
trigger2 = command = "holddown"
trigger3 = stateno = 250 && animelemtime(2) > 0 && animelemtime(3) < 0
trigger3 = command = "holddown"
trigger4 = stateno = 270 && animelemtime(3) > 0 && animelemtime(5) < 0
trigger4 = command = "holddown"
trigger5 = stateno = 230 && animelemtime(3) >= 2
trigger5 = command =  "holddown"
trigger6 = stateno = 440 && animelemtime(3) > 0 && animelemtime(4) < 0
trigger6 = command = "holddown"
trigger7 = stateno = 460 && animelemtime(5) > 0 && animelemtime(9) <= 0
trigger7 = command = "holddown"
trigger8 = stateno = 210 && animelemtime(2) >= 1
trigger8 = command =  "holddown"
trigger9 = stateno = 200 && animelemtime(2) >= 1
trigger9 = command =  "holddown"
trigger10 = stateno = 400 && animelemtime(3) >= 1
trigger10 = command = "holddown"
trigger11 = stateno = 240 && animelemtime(5) > 0 && animelemtime(6) < 0
trigger12 = stateno = 420 && animelemtime(3) >= 2
trigger12 = command = "holddown"
trigger13 = stateno = 100

[State -1,CHK]
type = ChangeState
value = 460
triggerall = var(9) != 1
triggerall = command = "holddown"
triggerall = command = "b"
triggerall = var(41) != 4
trigger1 = statetype != A && ctrl
trigger2 = stateno = 100
;----------------------------------------

;Lp Fwd
[State -1,Low Punch Fwd KYO-1]
type = ChangeState
value = 217
triggerall = var(9) != 1
triggerall = command = "fwd_x"
triggerall = var(41) = 3
trigger1 = statetype != A && ctrl
trigger2 = stateno = 250 && animelemtime(2) > 0 && animelemtime(3) < 0
trigger3 = stateno = 270 && animelemtime(3) > 0 && animelemtime(6) < 0
trigger4 = stateno = 445 && animelemtime(3) > 0 && animelemtime(6) <= 0
trigger5 = stateno = 215 && animelemtime(2) > 0 
trigger6 = stateno = 235 && animelemtime(3) > 0 
trigger7 = stateno = 400 && animelemtime(2) > 0 
trigger7 = command != "holddown"
trigger8 = stateno = 420 && animelemtime(2) > 0
trigger8 = command != "holddown"
trigger9 = stateno = 240 && animelemtime(5) > 0 && animelemtime(6) < 0
trigger10 = stateno = 100

;Lk Fwd
[State -1,Low kick Fwd KYO-1]
type = ChangeState
value = 237
triggerall = var(9) != 1
triggerall = command = "fwd_a"
triggerall = var(41) = 3
trigger1 = stateno = 250 && animelemtime(2) > 0 && animelemtime(3) < 0
trigger2 = stateno = 270 && animelemtime(3) > 0 && animelemtime(6) < 0
trigger3 = stateno = 445 && animelemtime(3) > 0 && animelemtime(6) <= 0
trigger4 = stateno = 215 && animelemtime(2) > 0 
trigger5 = stateno = 235 && animelemtime(3) > 0 
trigger6 = stateno = 400 && animelemtime(2) > 0 
trigger6 = command != "holddown"
trigger7 = stateno = 420 && animelemtime(2) > 0
trigger7 = command != "holddown"
trigger8 = stateno = 240 && animelemtime(5) > 0 && animelemtime(6) < 0

;Lk Fwd
[State -1,Low kick Fwd KYO-1]
type = ChangeState
value = 238
triggerall = var(9) != 1
triggerall = command = "fwd_a"
triggerall = var(41) = 3
trigger1 = statetype = S && ctrl
trigger2 = stateno = 100

;Lp
[State -1,Low Punch KYO-1]
type = ChangeState
value = 215
triggerall = var(9) != 1
triggerall = command = "x"
triggerall = var(41) = 3
trigger1 = statetype = S && ctrl
trigger2 = stateno = 215 && animelemtime(3) > 3
trigger2 = command != "holddown"
trigger3 = stateno = 400 && animelemtime(2) >= 0 
trigger3 = command != "holddown"
trigger4 = stateno = 420 && animelemtime(3) >= 0
trigger4 = command != "holddown"
trigger5 = stateno = 235 && animelemtime(4) >= 0
trigger5 = command !=  "holddown"
trigger6 = stateno = 100

;Lk 
[State -1,Low Punch KYO-1]
type = ChangeState
value = 235
triggerall = var(9) != 1
triggerall = command = "a"
triggerall = var(41) = 3
trigger1 = statetype = S && ctrl
trigger2 = stateno = 235 && animelemtime(4) > 0
trigger2 = command !=  "holddown"
trigger3 = stateno = 400 && animelemtime(3) >= 0
trigger3 = command != "holddown"
trigger4 = stateno = 420 ;&& animelemtime(3) >= 0
trigger4 = command != "holddown"
trigger4 = movecontact
trigger5 = stateno = 215 && animelemtime(3) > 0 
trigger5 = command != "holddown"
trigger6 = stateno = 100

[State -1,JLKKYO-1]
type = ChangeState
value = 620
triggerall = var(9) != 1
triggerall = command = "a"
triggerall = var(41) = 3
triggerall = statetype = A
trigger1 = ctrl
trigger2 = stateno = 201 && ctrl

[State -1,JHKKYO-1]
type = ChangeState
value = 650
triggerall = var(9) != 1
triggerall = command = "b"
triggerall = var(41) = 3
triggerall = statetype = A
trigger1 = ctrl
trigger2 = stateno = 201 && ctrl

;========================[BASIC ATTACKS MODE: KYO-02]==================================

;Lp
[State -1,Lowpunch-02]
type = ChangeState
value = 200
triggerall = var(9) != 1
triggerall = command = "x"
triggerall = var(41) = 4
trigger1 = statetype = S && ctrl
trigger2 = stateno = 210 && animelemtime(3) > 0 
trigger2 = command != "holddown"
trigger3 = stateno = 200 && animelemtime(3) > 0 
trigger3 = command != "holddown"
trigger4 = stateno = 400 && animelemtime(2) >= 0 
trigger4 = command != "holddown"
trigger5 = stateno = 420 && animelemtime(3) >= 0
trigger5 = command != "holddown"
trigger6 = stateno = 230 && animelemtime(3) >= 0
trigger6 = command != "holddown"
trigger7 = stateno = 100

;Hp close
[State -1,HPClose-02]
type = ChangeState
value = 255
triggerall = var(9) != 1
triggerall = command = "y"
triggerall = var(41) = 4 && p2bodydist x <= 30
trigger1 = statetype = S && ctrl
trigger2 = stateno = 200 && animelemtime(3) > 3
trigger3 = stateno = 400 && animelemtime(3) >= 3
trigger3 = command != "holddown"
trigger4 = stateno = 420 && animelemtime(3) = 1
trigger4 = command != "holddown"
trigger5 = stateno = 100

;Hk Far
[State -1,HKFAR-02]
type = ChangeState
value = 270
;triggerall = var(9) = 0
triggerall = command = "b"
triggerall = var(41) = 4
triggerall = p2bodydist x > 30
trigger1 = statetype = S && ctrl
trigger2 = stateno = 200 && animelemtime(3) > 3
trigger3 = stateno = 400 && animelemtime(3) >= 3
trigger3 = command != "holddown"
trigger4 = stateno = 420 && animelemtime(3) = [1,2]
trigger4 = command != "holddown"
trigger5 = stateno = 100

;Hk close
[State -1,HKClose-02]
type = ChangeState
value = 275
;triggerall = var(9) = 0
triggerall = command = "b"
triggerall = var(41) = 4
triggerall = p2bodydist x <= 30
trigger1 = statetype = S && ctrl
trigger2 = stateno = 200 && animelemtime(3) > 3
trigger3 = stateno = 400 && animelemtime(3) >= 3
trigger3 = command != "holddown"
trigger4 = stateno = 420 && animelemtime(3) = [1,2]
trigger4 = command != "holddown"
trigger5 = stateno = 100

[State -1,JLKV-02]
type = ChangeState
value = 610
triggerall = var(9) != 1
triggerall = command = "a"
triggerall = var(41) = 4
trigger1 = statetype = A && ctrl

[State -1,JHKV-02]
type = ChangeState
value = 640
triggerall = var(9) != 1
triggerall = command = "b"
triggerall = var(41) = 4
trigger1 = statetype = A && ctrl

;Hp KYO-2 style
[State -1,HPClose-02]
type = ChangeState
value = 255
triggerall = var(9) != 1
triggerall = command = "y" && command = "holdback"
triggerall = var(41) = 2
trigger1 = statetype = S && ctrl
trigger2 = stateno = 200 && animelemtime(3) > 3
trigger3 = stateno = 400 && animelemtime(3) >= 3
trigger3 = command != "holddown"
trigger4 = stateno = 420 && (animelemtime(3) = [1,2])
trigger4 = command != "holddown"

;========================[BASIC ATTACKS MODE: 95/98]==================================

;lk fwd
[State -1,LKFWD1]
type = ChangeState
value = 225
triggerall = var(9) != 1
triggerall = command = "fwd_a"
triggerall = (var(41) = [0,2]) || var(41) = 4 || var(41) = 5 || (var(41) = [6,8])
trigger1 = stateno = 250 && animelemtime(2) > 0 && animelemtime(3) < 0
trigger2 = stateno = 270 && animelemtime(3) > 0 && animelemtime(6) < 0
trigger3 = stateno = 440 && animelemtime(3) > 0 && animelemtime(6) <= 0
trigger4 = stateno = 210 && animelemtime(2) > 0 
trigger5 = stateno = 230 && animelemtime(3) > 0 
trigger6 = stateno = 400 && animelemtime(2) > 0 
trigger6 = command != "holddown"
trigger7 = stateno = 420 && animelemtime(2) > 0
trigger7 = command != "holddown"
trigger8 = stateno = 240 && animelemtime(5) > 0 && animelemtime(6) < 0
trigger9 = stateno = 200 && animelemtime(2) >= 1
trigger9 = command =  "holddown"
trigger10 = stateno = 255 && animelemtime(3) >= 1 && animelemtime (4) < 0
trigger11 = stateno = 275 && animelemtime(3) >= 1 && animelemtime (4) < 0

;lk fwd
[State -1,LKFWD2]
type = ChangeState
value = 227
triggerall = var(9) != 1
triggerall = command = "fwd_a"
triggerall = (var(41) = [0,1]) || var(41) = 4 || Var(41) = 8
trigger1 = statetype = S && ctrl
trigger2 = stateno = 100

;lk fwd 99 style
[State -1,LKFWD3]
type = ChangeState
value = 205
triggerall = var(9) != 1
triggerall = command = "fwd_a"
triggerall = var(41) = 2 || var(41) = 5 || (var(41) = [6,8])
trigger1 = statetype = S && ctrl
trigger2 = stateno = 100

;Lp Close
[State -1,Low Punch CLose]
type = ChangeState
value = 210
triggerall = var(9) != 1
triggerall = command = "x"
triggerall = (var(41) = [0,2]) || var(41) = 5 || (var(41) = [6,8])
triggerall = p2bodydist x < 15
trigger1 = statetype = S && ctrl
trigger2 = stateno = 210 && animelemtime(3) > 0 
trigger2 = command != "holddown"
trigger3 = stateno = 400 && animelemtime(2) >= 0 
trigger3 = command != "holddown"
trigger4 = stateno = 420 && animelemtime(3) >= 0
trigger4 = command != "holddown"
trigger5 = stateno = 230 && animelemtime(3) >= 0
trigger5 = command !=  "holddown"
trigger6 = stateno = 100

;Lp
[State -1,Lowpunch]
type = ChangeState
value = 200
triggerall = var(9) != 1
triggerall = command = "x"
triggerall = (var(41) = [0,2]) || var(41) = 5 || (var(41) = [6,8])
triggerall = p2bodydist x >= 15
trigger1 = statetype = S && ctrl
trigger2 = stateno = 210 && animelemtime(3) > 0 
trigger2 = command != "holddown"
trigger3 = stateno = 200 && animelemtime(3) > 0 
trigger3 = command != "holddown"
trigger4 = stateno = 400 && animelemtime(2) >= 0 
trigger4 = command != "holddown"
trigger5 = stateno = 420 && animelemtime(3) >= 0
trigger5 = command != "holddown"
trigger6 = stateno = 230 && animelemtime(3) >= 0
trigger6 = command !=  "holddown"
trigger7 = stateno = 100

;lk close
[State -1,LKClose]
type = ChangeState
value = 230
triggerall = var(9) != 1
triggerall = command = "a"
triggerall = (var(41) = [0,2]) || var(41) = 4 || var(41) = 5 || (var(41) = [6,8])
triggerall = p2bodydist x <= 22
trigger1 = statetype = S && ctrl
trigger2 = stateno = 230 && animelemtime(3) >= 0
trigger2 = command !=  "holddown"
trigger3 = stateno = 400 && animelemtime(3) >= 0
trigger3 = command != "holddown"
trigger4 = stateno = 420 ;&& animelemtime(3) >= 0
trigger4 = command != "holddown"
trigger4 = movecontact
trigger5 = stateno = 100

;lk
[State -1,LK]
type = ChangeState
value = 220
triggerall = var(9) != 1
triggerall = command = "a"
triggerall = (var(41) = [0,2]) || var(41) = 4 || var(41) = 5 ||(var(41) = [6,8])
triggerall = p2bodydist x > 20
trigger1 = statetype = S && ctrl
trigger2 = stateno = 230 && animelemtime(3) > 1 
trigger2 = command !=  "holddown"
trigger3 = stateno = 220 && animelemtime(5) > 1 
trigger3 = command != "holddown"
trigger4 = command != "holddown"
trigger4 = stateno = 420 && animelemtime(2) >= 3
trigger5 = stateno = 100

;Hp close
[State -1,HPClose]
type = ChangeState
value = 250
triggerall = var(9) != 1
triggerall = command = "y"
triggerall = (var(41) = [0,3]) || var(41) = 5 || (var(41) = [6,8])
triggerall = p2bodydist x <= 30
trigger1 = statetype = S && ctrl
trigger2 = stateno = 210 && animelemtime(3) > 3
trigger3 = stateno = 400 && animelemtime(3) >= 3
trigger3 = command != "holddown"
trigger4 = stateno = 420 && animelemtime(3) = [1,2]
trigger4 = command != "holddown"
trigger5 = stateno = 100

;Hp 
[State -1,HP]
type = ChangeState
value = 240
triggerall = var(9) != 1
triggerall = command = "y"
triggerall = (var(41) = [0,4]) || var(41) = 5 || (var(41) = [6,8])
triggerall = p2bodydist x > 30
triggerall = stateno != 250 && stateno != 240
trigger1 = statetype = S && ctrl
trigger2 = stateno = 400 && animelemtime(3) >= 3
trigger2 = command != "holddown"
trigger3 = stateno = 420 && animelemtime(3) = [1,2]
trigger3 = command != "holddown"
trigger4 = stateno = 100

;Hk close
[State -1,HKClose]
type = ChangeState
value = 270
;triggerall = var(9) = 0
triggerall = command = "b"
triggerall = (var(41) = [0,3]) || var(41) = 5 || (var(41) = [6,8])
triggerall = p2bodydist x <= 30
trigger1 = statetype = S && ctrl
trigger2 = stateno = 210 && animelemtime(3) > 3
trigger3 = stateno = 400 && animelemtime(3) >= 3
trigger3 = command != "holddown"
trigger4 = stateno = 420 && animelemtime(3) = [1,2]
trigger4 = command != "holddown"
trigger5 = stateno = 100

;Hk 
[State -1,HK]
type = ChangeState
value = 260
triggerall = var(9) != 1
triggerall = command = "b"
triggerall = (var(41) = [0,1]) || var(41) = 3 || var(41) = 5 || var(41) = 6 || var(41) = 8
trigger1 = statetype = S && ctrl
trigger2 = stateno = 400 && animelemtime(3) >= 3
trigger2 = command != "holddown"
trigger3 = stateno = 420 && animelemtime(3) = [1,2]
trigger3 = command != "holddown"
trigger4 = stateno = 100

;Hk 
[State -1,HK]
type = ChangeState
value = 265
triggerall = var(9) != 1
triggerall = command = "b"
triggerall = var(41) = 7 || var(41) = 2
trigger1 = statetype = S && ctrl
trigger2 = stateno = 400 && animelemtime(3) >= 3
trigger2 = command != "holddown"
trigger3 = stateno = 420 && animelemtime(3) = [1,2]
trigger3 = command != "holddown"
trigger4 = stateno = 100

;-----------------------------------------------------------------
[State -1,JLKD]
type = ChangeState
value = 620
triggerall = var(9) != 1
triggerall = command = "a"
triggerall = statetype = A
trigger1 = vel x != 0 && ctrl
trigger2 = stateno = 201 && ctrl

[State -1,JHKD]
type = ChangeState
value = 650
triggerall = var(9) != 1
triggerall = command = "b"
triggerall = statetype = A
trigger1 = vel x != 0 && ctrl
trigger2 = stateno = 201 && ctrl

[State -1,JLP]
type = ChangeState
value = 600
triggerall = var(9) != 1
triggerall = command = "x"
trigger1 = statetype = A && ctrl

[State -1,JHP]
type = ChangeState
value = 630
triggerall = var(9) != 1
triggerall = command = "y"
trigger1 = statetype = A && ctrl

[State -1,JLKV]
type = ChangeState
value = 610
triggerall = var(9) != 1
triggerall = command = "a"
triggerall = vel x = 0
trigger1 = statetype = A && ctrl

[State -1,JHKV]
type = ChangeState
value = 640
triggerall = var(9) != 1
triggerall = command = "b"
triggerall = vel x = 0
trigger1 = statetype = A && ctrl

[State -1,TAUNT2_STRIKERADD]
type = ChangeState
value = 195
triggerall = var(9) != 1
trigger1 = command = "taunt2"
trigger1 = power >= 1000 && var(31) = 1 && var(10) <= 0 && var(37) <= 0 && var(40) <= 0
trigger1 = statetype != A && ctrl

[State -1,Mode]
type = ChangeState
value = 805
triggerall = var(9) != 1
trigger1 = command = "mode"
trigger1 = numexplod(900) = 0 && numexplod(901) = 0 && numexplod(902) = 0 && numexplod(903) = 0
trigger1 = numexplod(904) = 0 && var(10) <= 0 && var(37) <= 0 && var(40) <= 0
trigger1 = statetype != A && stateno != 805 && ctrl

[State -1,Groove]
type = ChangeState
value = 850
triggerall = var(9) != 1
trigger1 = command = "groove"
trigger1 = numexplod(800) = 0 && numexplod(801) = 0 && numexplod(802) = 0 && numexplod(803) = 0
trigger1 = numexplod(804) = 0 && var(10) <= 0 && var(37) <= 0 && var(40) <= 0
trigger1 = statetype != A && stateno != 195 && ctrl

[State -1,TAUNT1_CANCELABLE]
type = ChangeState
value = 855
triggerall = var(9) != 1
trigger1 = command = "taunt"
trigger1 = numexplod(900) = 0 && numexplod(901) = 0 && numexplod(902) = 0 && numexplod(903) = 0
trigger1 = numexplod(904) = 0 && var(10) <= 0 && var(37) <= 0 && var(40) <= 0
trigger1 = statetype != A && ctrl

[State -1,RUN]
type = ChangeState
value = 100
triggerall = var(9) != 1
triggerall = command = "FF"
triggerall = var(21) = 0 || var(21) = 2 || var(21) = 3 || var(21) = 4 || (var(21) = [5,6]) || var(21) = 6
trigger1 = statetype = S && ctrl

[State -1,HOPFWD]
type = ChangeState
value = 102
triggerall = var(9) != 1
triggerall = command = "FF"
trigger1 = var(21) = 1 && statetype = S && ctrl

[State -1,HOPBACK]
type = ChangeState
value = 105
triggerall = var(9) != 1
trigger1 = command = "BB"
trigger1 = statetype = S && ctrl

;=====================================================================================
;-----[ AI MODIFICATION ]-----
;=====================================================================================
; High percent stand guard
[State -1]
type = ChangeState
value = 130
triggerall = p2movetype = A
triggerall = P2bodydist X <= 40
triggerall = random <= 700
triggerall = statetype != A
triggerall = var(9) = 1
triggerall = ctrl || stateno = 100
triggerall = stateno != 120
trigger1 = p2statetype = S

[State -1]
type = ChangeState
value = 130
triggerall = p2movetype = A;access only when opponent attack
triggerall = P2bodydist X <= 40;access only when near
triggerall = random <= 700;high percent
triggerall = statetype != A;perform when not in air
triggerall = var(9) = 1;only AI can access
triggerall = ctrl;make sure AI had control
triggerall = stateno != 130
trigger1 = p2statetype = A

;---------------------------------------------------------------------------
; High percent crouch guard
[State -1]
type = ChangeState
value = 131
triggerall = p2movetype = A;access only when opponent attack
triggerall = P2bodydist X <= 40;access only when near
triggerall = statetype != A;perform when not in air
triggerall = random <= 700;high percent
triggerall = var(9) = 1;only AI can access
triggerall = ctrl;make sure AI had control
triggerall = stateno != 131
trigger1 = p2statetype = C
;---------------------------------------------------------------------------
[State -1,Kamijiri SDM]
type = ChangeState
value = 9100
triggerall = var(9) = 1
triggerall = p2stateno != 131 && p2stateno != 130 && P2bodydist X <= 15 && random <= 1000 
triggerall = statetype != A && p2statetype != A
triggerall = p2statetype != L && p2stateno != 5120
triggerall = p2movetype != H && ctrl
triggerall = var(41) = 2 || var(41) = 6
trigger1 = power >= 2000 && (var(21) = [5,6])
trigger2 = power >= 3000 && var(21) = 4
trigger3 = power >= 1000 && var(10) > 0 && (var(21) = 0 || var(21) = 2)
trigger3 = power >= 1000 && life <= 200 && (var(21) = 2 || var(21) = 3)

[State -1,Kamijiri DM]
type = ChangeState
value = 9020
triggerall = var(9) = 1
trigger1 = p2stateno != 131 && p2stateno != 130 && P2bodydist X <= 15 && random <= 1000 
trigger1 = statetype != A && p2statetype != A
trigger1 = p2statetype != L && p2stateno != 5120
trigger1 = var(10) <= 0
trigger1 = p2movetype != H && ctrl
trigger1 = var(41) = 2 || var(41) = 6
trigger1 = power >= 1000 && var(21) != 1 && life > 200

;Orochi Nagi
[State -1, OrochiNagi]
type = ChangeState
value = 3002
ctrl = 0
triggerall = var(9) = 1
triggerall = (var(41) = [0,3]) || var(41) = 5 || (var(41) = [6,7])
triggerall = var(21) = 0 || var(21) = 2
triggerall = p2statetype != L
trigger1 = life > 200 && power >= 1000 && var(10) <= 0 && var(41) != 1 && var(44) <= 0
trigger1 = random >= 800 && p2bodydist Y > -145 && p2bodydist Y < -115 && (p2stateno = [1004,1009])
trigger1 = statetype != A && ctrl
trigger2 = var(40) > 0
trigger2 = var(39) = 1 || var(42) = 1
trigger3 = HitShakeOver
trigger3 = life > 200 && var(10) <= 0 && power >= 1000 && var(21) != 1
trigger3 = (var(21) = 1 || var(41) = 1) && (stateno = 150 || stateno = 152)
trigger4 = HitShakeOver
trigger4 = (life <= 200 || (var(10) > 0 && life >200)) && var(21) = 1
trigger4 = (var(21) = 1 || var(41) = 1) && (stateno = 150 || stateno = 152) 

;Hikigane Type 1 2K
[State -1, hikigane2Kt1]
type = ChangeState
value = 4570
triggerall = var(9) = 1 
triggerall = var(41) = 2 || var(41) = 7
trigger1 = random <= 500 && var(44) <= 0
trigger1 = p2bodydist Y > -138 && p2bodydist Y < -125
trigger1 = (p2stateno = [1004,1009]) && statetype != A && ctrl

;Hikigane Type 1 2K1
[State -1, hikigane2Kt1]
type = ChangeState
value = 4570
triggerall = var(9) = 1 
triggerall = var(41) = 6 && var(44) < 1
trigger1 = p2bodydist Y > -138 && p2bodydist Y < -105
trigger1 = (p2stateno = [1004,1009]) && statetype != A && ctrl

;Aragami
[State -1, AraGami]
type = ChangeState
value = 2000
triggerall = var(9) = 1 
triggerall = var(41) != 1 && var(41) != 3
triggerall = random <= 600 && statetype != A && ctrl
trigger1 = p2bodydist Y > -125 && p2bodydist Y < -85
trigger1 = (p2stateno = [1004,1009]) 
trigger2 = var(41) != 1 && var(41) != 3
trigger2 = (enemy, stateno = [5030,5050]) && enemy, gethitvar(fall) = 1 && enemy, gethitvar(fall.recover) = 0 && p2bodydist x <= 80
trigger2 = p2bodydist Y > -125 && p2bodydist Y < -70

;Hikigane Type 2 2K
[State -1, Hikigane2kt2]
type = ChangeState
value = 4585
triggerall = var(9) = 1 
trigger1 = var(41) = 2 || (var(41) = [6,7])
trigger1 = Random <= 500
trigger1 = p2bodydist y < -40 
trigger1 = (p2bodydist x = [10,40]) && p2movetype = A
trigger1 = p2statetype = A && statetype != A && ctrl

[State -1,Grab]
type = ChangeState
value = ifelse(random <= 500,300,310)
triggerall = var(9) = 1
trigger1 = var(4) <= 0 && random <= 400 
trigger1 = p2stateno != 131 && p2stateno != 130 && P2bodydist X <= 10 && p2stateno != 1302 && statetype != A && p2statetype != A && p2statetype != L && p2stateno != 5120
trigger1 = p2movetype != H && p2movetype != A && ctrl

;Hp close
[State -1,HPClose]
type = ChangeState
value = 255
triggerall = var(9) = 1
triggerall = var(41) = 4 && (p2bodydist x = [0,30]) && (random <= 800)
trigger1 = p2statetype != L && p2statetype != A && statetype = S && ctrl
trigger2 = stateno = 210 && animelemtime(3) > 3 && movecontact
trigger3 = stateno = 400 && animelemtime(3) >= 3 && movecontact 
trigger4 = stateno = 420 && animelemtime(3) >= 3 && movecontact 

;Hp close
[State -1,HPClose]
type = ChangeState
value = 250
triggerall = var(9) = 1
triggerall = var(41) != 4
triggerall = (p2bodydist x = [0,30]) && p2statetype != A
trigger1 = p2statetype != L && statetype = S && ctrl && random <= 700
trigger2 = stateno = 210 && animelemtime(3) > 3 && movecontact  && random <= 1000
trigger3 = stateno = 400 && animelemtime(3) >= 3 && movecontact && random <= 1000
trigger4 = stateno = 420 && animelemtime(3) >= 3 && movecontact && random <= 1000

[State -1,Tsumi2]
type = ChangeState
value = 1950
triggerall = var(9) = 1
triggerall = var(41) = 0 || var(41) = 2 || var(41) = 5 || (var(41) = 7)
triggerall = ctrl && p2statetype != L && p2statetype != A && random <= 9000 && backedgebodydist > 70
trigger1 = p2bodydist x <= 50 && statetype !=  A && p2stateno < 1000 && p2movetype = A

[State -1, Oniyaki]
type = ChangeState
value = ifelse(random <= 700,1600,1650)
triggerall = var(9) = 1 && random <= 400 && var(41) != 3 && p2movetype != H
trigger1 = p2movetype = A && p2bodydist x <= 40 && statetype != A && ctrl
trigger2 = HitShakeOver
trigger2 = (var(21) = 1 || var(41) = 1) && (stateno = 150 || stateno = 152)  

[State -1, KAI2]
type = ChangeState
value = 1010
triggerall = var(9) = 1
triggerall = (var(41) = [0,3]) || var(41) = 5 || (var(41) = [6,7])
triggerall = p2statetype != L || p2statetype != A
trigger1 = statetype != A && random <= 900 && (p2bodydist x = [0,25]) && stateno = 250 && movehit && animelemtime(2) > 0 && animelemtime(3) < 0
trigger2 = HitShakeOver
trigger2 = (var(21) = 1 || var(41) = 1) && (stateno = 150 || stateno = 152)  

[State -1, CrLK]
type = ChangeState
value = 420
triggerall = var(9) = 1
triggerall = statetype != A && ctrl && p2movetype != H
trigger1 = random <= 300 && p2stateno != 100 && p2movetype != A && (p2bodydist x = [80,120]) && (enemy, vel x <= 0)
trigger2 = random <= 500 && p2statetype = S && p2bodydist x <= 25

[State -1,CLP]
type = ChangeState
value = 400
triggerall = var(9) = 1
trigger1 = p2bodydist x > 15
trigger1 = random <= 500 && stateno = 420 && animelemtime(2) >= 1 && animelemtime(3) <= 0
trigger1 = movecontact

;212 Shiki: Kototsuki You Type 2 KYO-99
[State -1, kototsuki1 99]
type = ChangeState
value = 4550
ctrl = 0
triggerall = var(9) = 1
trigger1 = var(41) = 5 || var(41) = 2 
trigger1 = random <= 500
trigger1 = stateno = 400 && animelemtime(2) >= 1 && animelemtime(3) <= 0 && movehit

[State -1,CFHK]
type = ChangeState
value = 470
triggerall = var(9) = 1
triggerall = var(41) != 3 && var(41) != 4
triggerall = random <= 700 && statetype != A
trigger1 = stateno = 400 && animelemtime(2) >= 1 && animelemtime(3) <= 0 && movecontact
trigger2 = p2statetype = S
trigger2 = stateno = 250 && animelemtime(2) >= 1 && animelemtime(3) <= 0 && moveguarded
trigger3 = p2statetype = S
trigger3 = stateno = 255 && animelemtime(2) >= 1 && animelemtime(3) <= 0 && moveguarded

[State -1, Doku Gami]
type = ChangeState
value = 2100
triggerall = var(9) = 1
triggerall = movehit && var(41) != 1 && var(41) != 3 && random <= 900
trigger1 = stateno = 250 && animelemtime(2) > 0 && animelemtime(3) < 0
trigger2 = stateno = 270 && animelemtime(3) > 0 && animelemtime(4) < 0
trigger3 = stateno = 440 && animelemtime(3) > 0 && animelemtime(4) < 0
trigger4 = stateno = 230 && animelemtime(3) > 0 && animelemtime(4) < 0
trigger5 = stateno = 240 && animelemtime(5) = [1,4]
trigger6 = stateno = 703 && animelemtime(4) > 0 && animelemtime(5) < 0
trigger7 = stateno = 255 && animelemtime(3) > 0 && animelemtime(4) < 0
trigger8 = stateno = 275 && animelemtime(3) > 0 && animelemtime(4) < 0
trigger9 = stateno = 465 && animelemtime(2) > 0 && animelemtime(3) < 0
trigger10 = stateno = 445 && animelemtime(4) > 0 && animelemtime(5) < 0 
trigger11 = var(40) > 0 && stateno = 730 && movecontact
trigger12 = var(40) > 0 && stateno = 735 && movecontact
trigger13 = var(40) > 0 && stateno = 736 && movecontact
trigger14 = var(21) = 1 && (stateno = 150 || stateno = 152) 

;RED KICK Type 1
[State -1, RED1]
type = ChangeState
value = 1100
triggerall = var(9) = 1
triggerall = var(41) != 1 && var(41) != 3
triggerall = random <= 200 && (p2stateno != [1004,1009]) && p2statetype != L && (p2bodydist x = [80,120])
trigger1 = p2statetype = A && statetype !=  A && p2movetype != A && p2movetype != H && ctrl
trigger2 = random <= 200 && p2stateno = 40 && statetype !=  A && ctrl

;lk fwd
[State -1,LKFWD1]
type = ChangeState
value = 225
triggerall = var(9) = 1
triggerall = moveguarded && random <= 400
triggerall = (var(41) = [0,2]) || var(41) = 4 || var(41) = 5 || (var(41) = [6,7])
trigger1 = stateno = 250 && animelemtime(2) > 0 && animelemtime(3) < 0
trigger2 = stateno = 270 && animelemtime(3) > 0 && animelemtime(6) < 0
trigger3 = stateno = 440 && animelemtime(3) > 0 && animelemtime(6) <= 0
trigger4 = stateno = 240 && animelemtime(5) > 0 && animelemtime(6) < 0
trigger5 = stateno = 255 && animelemtime(3) >= 1 && animelemtime (4) < 0
trigger6 = stateno = 275 && animelemtime(3) >= 1 && animelemtime (4) < 0

[State -1,ROLL BACK]
type = ChangeState
value = ifelse((var(21) = [2,3]), 740,701)
triggerall = var(9) = 1
triggerall = statetype != A && ctrl && p2movetype != H
trigger1 = (p2bodydist x = [15,50]) && p2movetype = A && backedgebodydist > 60 && random <= 300
triggerall = var(21) = 0 || var(21) = 2 || var(21) = 4 || (var(21) = [5,6])

[State -1,Groundrecover]
type = ChangeState
value = 5201
triggerall = var(9) = 1  && canrecover
trigger1 = Vel Y > 0 && Pos Y >= 0 && life >0 && random <= 70 && (stateno = [5050,5060])

[State -1, Flame Slow]
type = ChangeState
value = 1700
triggerall = var(9) = 1
triggerall = (var(41) = [1,3]) && numprojid(1701) = 0 && P2life != 0 && statetype != A
trigger1 = P2bodydist X >= 160 && random <= 75 && P2movetype != A && ctrl
trigger2 = P2statetype = L && P2bodydist X > 80 && ctrl

[State -1, Flame Fast]
type = ChangeState
value = 1710
triggerall = var(9) = 1
triggerall = (var(41) = [1,3]) && numprojid(1701) = 0 && P2life != 0 && statetype != A
trigger1 = P2bodydist X >= 160 && random <= 75 && p2movetype != H && p2statetype != A && ctrl
trigger2 = random <= 700 && P2bodydist X > 80 && P2statetype = L && ctrl

;Ground Smash
[State -1, Ground Smash KYO-1]
type = ChangeState
value = 447
triggerall = var(9) = 1
triggerall = var(41) = 2 || var(41) = 3
triggerall = (P2bodydist X = [0,20]) && p2statetype = L && (p2stateno = 5101 || p2stateno = 5110) 
trigger1 = random <= 100 && statetype != A && ctrl

;212 Shiki: Kototsuki You Type 1
[State -1, You]
type = ChangeState
value = 1850
triggerall = var(9) = 1
triggerall = (var(41) = [0,2]) || var(41) = 4 
triggerall = random <= 900
trigger1 = movehit
trigger1 = stateno = 250 && animelemtime(2) > 0 && animelemtime(3) < 0
trigger2 = movehit
trigger2 = stateno = 255 && animelemtime(3) > 0 && animelemtime(4) < 0

;101 Shiki: Oboro Guruma Type 2
[State -1, Guruma2]
type = ChangeState
value = 1170
triggerall = var(9) = 1
triggerall = (var(41) = [1,3]) && random <= 900
trigger1 = p2bodydist y < -80 && p2bodydist y > -125 && p2bodydist x <= 80 && (p2stateno = [1004,1009]) && statetype != A && ctrl
trigger2 = p2bodydist x <= 60 && stateno = 217 && animelemtime(9) > 0 && animelemtime(11) < 0 && movehit

;Lp Fwd
[State -1,Low Punch Fwd KYO-1]
type = ChangeState
value = 217
triggerall = var(9) = 1
triggerall = var(41) = 3 && (P2bodydist X = [0,70]) && movecontact
trigger1 = stateno = 250 && animelemtime(2) > 0 && animelemtime(3) < 0
trigger2 = stateno = 270 && animelemtime(3) > 0 && animelemtime(6) < 0
trigger3 = stateno = 420 && animelemtime(2) > 0
trigger4 = stateno = 240 && animelemtime(5) > 0 && animelemtime(6) < 0

;182 Shiki
[State -1, 182 Shiki]
type = ChangeState
value = 4600
ctrl = 0
triggerall = var(9) = 1
triggerall = var(41) = 2 || var(41) = 5
triggerall = var(21) = 0 || var(21) = 2 || var(21) = 3 || var(21) = 4
trigger1 = life > 200 && power >= 1000 && var(10) <= 0 && p2statetype != L && p2statetype != A
trigger1 = (p2bodydist x = [10,60]) && p2movetype = A && random >= 600 && statetype != A && ctrl
trigger2 = var(40) > 0
trigger2 = var(39) = 1 || var(42) = 1

;2K Shiki
[State -1, 2k Shiki ]
type = ChangeState
value = 4900
ctrl = 0
triggerall = var(9) = 1
triggerall = var(41) = 7 || var(41) = 2 
triggerall = var(21) = 0 || var(21) = 4
trigger1 = (p2bodydist x = [10,60]) && power >= 1000 && var(10) <= 0
trigger1 = statetype != A && ctrl && p2statetype != L && p2statetype != A
trigger1 = p2movetype = A && random >= 600 && statetype != A && ctrl
trigger2 = var(40) > 0
trigger2 = var(39) = 1 || var(42) = 1

;Saihuu Kessen Ougi: Mu Shiki
[State -1, Mu Shiki]
type = ChangeState
value = 3500
ctrl = 0
triggerall = var(9) = 1
triggerall = var(41) = 0 || var(41) = 2 || var(41) = 4
triggerall = var(21) = 0 || var(21) = 2
triggerall = p2statetype != L && p2statetype != A
trigger1 = life > 200 && power >= 1000 && var(10) <= 0
trigger1 = (p2bodydist x = [40,60]) && random >= 500 && statetype != A && ctrl
trigger2 = life > 200 && power >= 1000 && var(10) <= 0
trigger2 = random >= 1000 && movehit
trigger2 = stateno = 250 || stateno = 270 || stateno = 400
trigger3 = var(40) > 0
trigger3 = var(39) = 1 || var(42) = 1
trigger4 = (var(21) = 1 || var(41) = 1) && (stateno = 150 || stateno = 152) 

[State -1,JLK/JLP]
type = ChangeState
value = ifelse(random <=200,600,620)
triggerall = var(9) = 1
triggerall = random <= 500
trigger1 = statetype = A && (p2bodydist x = [1,40]) && p2bodydist Y <= 70 
trigger1 = ctrl && vel y > 0
trigger2 = stateno = 201 && ctrl && (p2bodydist x = [20,40]) && vel y > 0
trigger3 = statetype = A && (p2bodydist x = [1,40]) && p2statetype = A && ctrl

[State -1,JHP]
type = ChangeState
value = ifelse(random <=500, 650,630)
triggerall = var(9) = 1
trigger1 = statetype = A && (p2bodydist x = [1,40]) && p2bodydist Y <= 70 
trigger1 = ctrl && vel y > 0
trigger2 = stateno = 201 && ctrl && (p2bodydist x = [20,40]) && vel y > 0
trigger3 = statetype = A && (p2bodydist x = [1,40]) && p2statetype = A && ctrl

[State -1,JCD]
type = ChangeState
value = 660
triggerall = var(9) = 1
triggerall = random <= 500
trigger1 = statetype = A && (p2bodydist x = [1,40]) && p2statetype = A && ctrl
trigger2 = statetype = A && ctrl && random <= 500 && time <= 10

[State -1,JBAYO]
type = ChangeState
value = 670
triggerall = var(9) = 1
triggerall = p2movetype != A && (p2bodydist x = [0,50]) && p2bodydist Y <= 70 
triggerall = (var(41) = [0,2]) || var(41) = 4 || var(41) = 5 || (var(41) = [6,7])
trigger1 = statetype = A && ctrl && random <= 400
trigger2 = random <= 900
trigger2 = ((stateno = 106) || (stateno = 103))

[State -1,HOPBACK]
type = ChangeState
value = 105
triggerall = var(9) = 1
triggerall = statetype != A && ctrl && p2movetype != H && backedgedist > 80
trigger1 = random <= 200 && P2statetype = L && (p2bodydist x = [10,40]) && frontedgebodydist <= 50
trigger2 = random <= 700 && p2movetype != A && frontedgebodydist <= 50

;CHARGE
[State -1]
type = ChangeState
value = 704
triggerall = var(9) = 1 && NumEnemy
triggerall = var(10) <= 0 && power < 3000
triggerall = (stateno = [0,20]) && (ctrl || (stateno = [100,101]))
trigger1 = p2movetype = H && random <= 500 && (enemynear, gethitvar(fall) = 1) && p2bodydist x > 50

[State -1,RUN]
type = ChangeState
value = 100
triggerall = var(9) = 1
trigger1 = (stateno != [100,101]) && statetype = S && ctrl
trigger1 = p2bodydist x > 40 &&  p2movetype != A && random < 300 && var(21) != 1
